webpackJsonp([113],{acmF:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{protype:"0",DeviceDatabaseShow:!1,tableData:[],proType:"",RecordSaler:"",RecordBonus:"",Time:"",CommissionRatio:""}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{Create:function(){var e=this,t={ProductId:this.tableData[0].ID,PromotionType:1==this.proType?"整机销售":2==this.proType?"零配件销售":"保养大包",Begin:this.Time[0],End:this.Time[1],CommissionRatio:this.CommissionRatio/100,RecordSaler:1==this.RecordSaler,RecordBonus:1==this.RecordBonus};this.API_POST("Product/AddProductPromotion",t).then(function(t){e.$message.success("创建成功！"),e.$router.push({path:"/ProductPromotion"}),e.$emit("refresh")})},Add:function(e){this.protype=e,this.DeviceDatabaseShow=!0},ShowFalse:function(e){this.DeviceDatabaseShow=e},CommissionRatioNumber:function(e){e>100&&(this.CommissionRatio=100),e<0&&(this.CommissionRatio=0)},DataBase:function(e){if(console.log(e),e.length>1)return this.$message.warning("只可以选择一个设备！"),!1;this.tableData=e,this.DeviceDatabaseShow=!1}},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("SaxoPage",{scopedSlots:e._u([{key:"title",fn:function(){return[o("saxo-button",{attrs:{mini:"",type:"success"},on:{click:function(t){return e.Create()}}},[e._v("添加")])]},proxy:!0},{key:"content",fn:function(){return[o("DeviceDatabase",{attrs:{show:e.DeviceDatabaseShow,protype:e.protype},on:{ShowFalse:e.ShowFalse,DataBase:e.DataBase}}),e._v(" "),o("h3",[e._v("选择设备\n            "),o("saxo-button",{attrs:{mini:"",type:"success"},on:{click:function(t){e.Add("2"),e.proType=3}}},[e._v("保养设备")]),e._v(" "),o("saxo-button",{attrs:{mini:"",type:"success"},on:{click:function(t){e.Add("1"),e.proType=2}}},[e._v("零配件")]),e._v(" "),o("saxo-button",{attrs:{mini:"",type:"success"},on:{click:function(t){e.Add("6"),e.proType=1}}},[e._v("销售整机")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.$store.state.headerCellStyle,"cell-style":e.$store.state.cellStyle,stripe:""}},[o("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"BarcodeMemo",label:"内部编码",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"Manufacturer",label:"品牌",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"Characteristics",label:"产品描述","show-overflow-tooltip":!0}}),e._v(" "),o("el-table-column",{attrs:{prop:"Unit",label:"单位",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"UpdateDate",label:"更新时间",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"}},[[o("saxo-button",{attrs:{mini:"",type:"danger"},on:{click:function(t){e.tableData=[]}}},[e._v("删除")])]],2)],1),e._v(" "),o("div",{staticClass:"From"},[o("span",[e._v("类别")]),e._v(" "),o("el-radio-group",{model:{value:e.proType,callback:function(t){e.proType=t},expression:"proType"}},[o("el-radio",{attrs:{disabled:"",label:1}},[e._v("整机销售")]),e._v(" "),o("el-radio",{attrs:{disabled:"",label:2}},[e._v("零配件销售")]),e._v(" "),o("el-radio",{attrs:{disabled:"",label:3}},[e._v("保养大包")])],1)],1),e._v(" "),o("div",{staticClass:"From"},[o("span",[e._v("时间")]),e._v(" "),o("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"daterange","clear-icon":"",placeholder:"选择日期","value-format":"yyyy-MM-dd",size:"mini"},model:{value:e.Time,callback:function(t){e.Time=t},expression:"Time"}})],1),e._v(" "),o("div",{staticClass:"From"},[o("span",[e._v("提成比例")]),e._v(" "),o("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"0 - 100",size:"mini",type:"number"},on:{change:e.CommissionRatioNumber},model:{value:e.CommissionRatio,callback:function(t){e.CommissionRatio=t},expression:"CommissionRatio"}})],1),e._v(" "),o("div",{staticClass:"From"},[o("span",[e._v("是否记入销售额")]),e._v(" "),o("el-radio-group",{model:{value:e.RecordSaler,callback:function(t){e.RecordSaler=t},expression:"RecordSaler"}},[o("el-radio",{attrs:{label:1}},[e._v("记入")]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v("不记入")])],1)],1),e._v(" "),o("div",{staticClass:"From"},[o("span",[e._v("是否记入奖金")]),e._v(" "),o("el-radio-group",{model:{value:e.RecordBonus,callback:function(t){e.RecordBonus=t},expression:"RecordBonus"}},[o("el-radio",{attrs:{label:1}},[e._v("记入")]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v("不记入")])],1)],1)]},proxy:!0}])})},staticRenderFns:[]};var s=o("VU/8")(a,i,!1,function(e){o("vUl3")},"data-v-55396a9b",null);t.default=s.exports},vUl3:function(e,t){}});