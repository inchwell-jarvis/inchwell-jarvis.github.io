webpackJsonp([204],{ERSB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("mvHQ"),r=a.n(l),n=a("bOdI"),i=a.n(n),o={data:function(){var e;return{retrieval:{search:"",buyer:"",state:-1,paystate:-1,invoiceState:-1,pageNum:1,numPerPage:0,orderField:"",orderDirection:"",potype:"PO"},tableData:[],total:0,headerCellStyle:(e={background:"#f7f8fd",fontSize:"12px",fontWeight:400,fontStyle:"normal"},i()(e,"fontSize","11px"),i()(e,"padding","5px"),e),cellStyle:{height:"48px",fontSize:"12px"},options3:[{label:"全部",value:-1},{label:"未开发票",value:1},{label:"部分开票",value:7},{label:"已开发票",value:2}],options:[{label:"全部",value:-1},{label:"制作中",value:1},{label:"已提交至部门经理",value:8},{label:"已提交至总经理",value:2},{label:"已批准采购",value:3},{label:"供应商已发货",value:4},{label:"已收货",value:5},{label:"已结单",value:6},{label:"已撤销",value:7}],options2:[{label:"全部",value:-1},{label:"未申请付款",value:0},{label:"申请付款中",value:1},{label:"已付款",value:2},{label:"部分付款",value:3}]}},computed:{retrievalJT:function(){return r()(this.retrieval)}},watch:{retrievalJT:function(e,t){this.WatchFenYe(e,t)?this.$refs.SaxoFenYe.ReviseConNumber1():this.start()}},methods:{DelSOTemplate:function(e){var t=this;console.log(e),this.$confirm("此操作将永久删除该模板, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.API_POST("MachineSO/DelSOTemplate",{ID:e.ID}).then(function(e){t.$message.success("删除成功"),t.start()})}).catch(function(){t.$message.info("已取消删除")})},CreateMSO:function(){this.$router.push({path:"/sp-procurement-create"})},MachineSO:function(e){this.$router.push({path:"/sp-procurement-edit",query:{Id:e.ID}})},start:function(){var e=this;this.API_GET("MachineSO/GetMPOs",this.retrieval).then(function(t){e.tableData=t.Dtos;for(var a=0;a<e.tableData.length;a++){var l=e.tableData[a];1==l.PayType&&(l.PayTypeStr="付全款"),2==l.PayType&&(l.PayTypeStr="分期付款"),3==l.PayType&&(l.PayTypeStr="先发货后付款"),l.CreateDate=l.CreateDate.split("T")[0]}e.total=t.DataBars})},func:function(e,t){this.retrieval.numPerPage=e,this.retrieval.pageNum=t,this.start()}},created:function(){this.retrieval.numPerPage=this.$store.state.NewDisplayNumber,this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:e.start}}),e._v(" "),a("div",{staticClass:"retrieve"},[a("div",{staticClass:"leftSpan"},[e._v("\n            零配件采购\n        ")]),e._v(" "),a("div",{staticClass:"ConView"},[a("div",{staticClass:"department",staticStyle:{width:"270px"}},[a("span",{staticStyle:{width:"120px"}},[e._v("编号/供应商/备注")]),e._v(" "),a("el-input",{attrs:{placeholder:"编号/供应商/备注",size:"mini"},model:{value:e.retrieval.search,callback:function(t){e.$set(e.retrieval,"search",t)},expression:"retrieval.search"}})],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("采购员")]),e._v(" "),a("el-input",{attrs:{placeholder:"采购员",size:"mini"},model:{value:e.retrieval.buyer,callback:function(t){e.$set(e.retrieval,"buyer",t)},expression:"retrieval.buyer"}})],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("状态")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择状态",size:"mini"},model:{value:e.retrieval.state,callback:function(t){e.$set(e.retrieval,"state",t)},expression:"retrieval.state"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("付款状态")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择付款状态",size:"mini"},model:{value:e.retrieval.paystate,callback:function(t){e.$set(e.retrieval,"paystate",t)},expression:"retrieval.paystate"}},e._l(e.options2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("发票状态")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择发票状态",size:"mini"},on:{change:function(t){return e.start()}},model:{value:e.retrieval.invoiceState,callback:function(t){e.$set(e.retrieval,"invoiceState",t)},expression:"retrieval.invoiceState"}},e._l(e.options3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),a("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"success"},on:{click:function(t){return e.CreateMSO()}}},[e._v("创 建")]),e._v(" "),a("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"primary"},on:{click:function(t){return e.start()}}},[e._v("搜 索")])],1),e._v(" "),a("div",{staticClass:"content2"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.headerCellStyle,"cell-style":e.cellStyle,stripe:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"CusFullName",label:"供应商名称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateDate",label:"创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"POCode",label:"采购单编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Buyer",label:"采购员",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"BelongCompany",label:"隶属公司",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PayTypeStr",label:"付款方式",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PayStateStr",label:"付款状态",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"合计金额",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{float:"right"}},[e._v(" "+e._s(e.FinancialAmountFormat(t.row.TotalAmount,e.FinancialAmountSymbol(t.row.BuyingCurrency))))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"StateStr",label:"状态",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(a){return e.MachineSO(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("SaxoFenYe",{ref:"SaxoFenYe",attrs:{total:e.total},on:{func:e.func}})],1)},staticRenderFns:[]},u=a("VU/8")(o,s,!1,null,null,null);t.default=u.exports}});