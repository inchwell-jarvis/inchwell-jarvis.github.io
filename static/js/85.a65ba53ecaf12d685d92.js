webpackJsonp([85],{V7eF:function(t,a){},lotO:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("bOdI"),l=e.n(s),i={data:function(){var t;return{input2:"",value:"",options:[{value:-1,label:"全部"},{value:0,label:"未确认"},{value:1,label:"已确认"}],options2:[{value:-1,label:"全部"},{value:1,label:"未开票"},{value:2,label:"已开票"},{value:3,label:"已作废"}],tableData:[],headerCellStyle:(t={background:"#f7f8fd",fontSize:"12px",fontWeight:400,fontStyle:"normal"},l()(t,"fontSize","11px"),l()(t,"padding","5px"),t),cellStyle:{height:"48px",fontSize:"12px"},Typeofcustomer:[{label:"全部"},{label:"宝马"},{label:"保时捷"},{label:"奥迪"},{label:"奔驰"},{label:"劳斯莱斯"},{label:"路虎"},{label:"自由市场"},{label:"其他"}],search:"",area:"",paystate:-1,invoicestate:-1,cusType:"",saler:"",areaList:[],total:0,dialogVisible:!1,UData:{},pageNum:1,numPerPage:0}},methods:{ConfirmMSOPayment:function(t){console.log(t),this.dialogVisible=!0,this.UData=t},ConfirmMSOPayment2:function(){var t=this,a={data:{id:this.UData.ID},api:"post",url:this.$store.state.http+"MachineSO/ConfirmMSOPayment"};this.$https(a).then(function(a){t.$message({message:"收款成功！",type:"success"}),t.dialogVisible=!1,t.start()})},MSOWriteAnInvoice:function(t){var a=this,e={data:{id:t.ID},api:"post",url:this.$store.state.http+"MachineSO/MSOWriteAnInvoice"};this.$https(e).then(function(t){a.$message({message:"开票成功！",type:"success"}),a.start()})},start:function(){var t=this;if(""==this.cusType||"全部"==this.cusType)var a="";else a=this.cusType;var e={data:{search:this.search,area:this.area,paystate:this.paystate,cusType:a,saler:this.saler,invoicestate:this.invoicestate,pageNum:this.pageNum,numPerPage:this.numPerPage,orderField:"",orderDirection:""},api:"get",url:this.$store.state.http+"MachineSO/GetFinanceMSOPayments"};this.$https(e).then(function(a){console.log(a),t.tableData=a.Data.Dtos,t.total=a.Data.DataBars;for(var e=0;e<t.tableData.length;e++){var s=t.tableData[e];s.CreateDate=s.CreateDate.split("T")[0],s.ConfirmDt&&(s.ConfirmDt=s.ConfirmDt.split("T")[0])}})},func:function(t,a){this.numPerPage=t,this.pageNum=a,this.start()},startGetArea:function(){var t=this,a={url:this.$store.state.http+"System/GetArea",api:"get"};this.$https(a).then(function(a){console.log(a.Data),t.areaList=a.Data})},select:function(t){console.log(t)}},created:function(){this.numPerPage=this.$store.state.NewDisplayNumber,this.startGetArea(),this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box"},[e("router-view",{on:{refresh:t.start}}),t._v(" "),e("div",{staticClass:"retrieve"},[e("div",{staticClass:"leftSpan"},[t._v("\n      整机销售收款\n    ")]),t._v(" "),e("div",{staticClass:"ConView"},[e("div",{staticClass:"department"},[e("span",[t._v("客户名称、单号")]),t._v(" "),e("el-input",{attrs:{placeholder:"请输入客户名称、单号",size:"mini"},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),t._v(" "),e("div",{staticClass:"department"},[e("span",[t._v("区域：")]),t._v(" "),e("el-select",{attrs:{size:"mini",clearable:"",placeholder:"请选择区域"},on:{change:t.select},model:{value:t.area,callback:function(a){t.area=a},expression:"area"}},t._l(t.areaList,function(t){return e("el-option",{key:t.Value,attrs:{label:t.Value,value:t.Value}})}),1)],1),t._v(" "),e("div",{staticClass:"department"},[e("span",[t._v("客户类型：")]),t._v(" "),e("el-select",{attrs:{placeholder:"请选择客户类型",size:"mini",clearable:""},model:{value:t.cusType,callback:function(a){t.cusType=a},expression:"cusType"}},t._l(t.Typeofcustomer,function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.label}})}),1)],1),t._v(" "),e("div",{staticClass:"department"},[e("span",[t._v("付款状态：")]),t._v(" "),e("el-select",{attrs:{placeholder:"请选择付款状态",size:"mini",clearable:""},model:{value:t.paystate,callback:function(a){t.paystate=a},expression:"paystate"}},t._l(t.options,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),e("div",{staticClass:"department"},[e("span",[t._v("发票状态：")]),t._v(" "),e("el-select",{attrs:{placeholder:"请选择发票状态",size:"mini",clearable:""},model:{value:t.invoicestate,callback:function(a){t.invoicestate=a},expression:"invoicestate"}},t._l(t.options2,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),e("div",{staticClass:"department"},[e("span",[t._v("销售员")]),t._v(" "),e("el-input",{attrs:{placeholder:"请输入销售员",size:"mini"},model:{value:t.saler,callback:function(a){t.saler=a},expression:"saler"}})],1)]),t._v(" "),e("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"primary"},on:{click:function(a){return t.start()}}},[t._v("搜 索")])],1),t._v(" "),e("div",{staticClass:"content2"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":t.headerCellStyle,"cell-style":t.cellStyle,stripe:"",height:"100%"}},[e("el-table-column",{attrs:{prop:"CusFullName",label:"客户名称","show-overflow-tooltip":!0}}),t._v(" "),e("el-table-column",{attrs:{prop:"CusType",label:"客户类型",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"Area",label:"区域",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"SOCode",label:"订单编号",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{label:"合同总金额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{float:"right"}},[t._v(" "+t._s("￥"+a.row.ContactAmount.toFixed(2)))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"本次付款金额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{float:"right"}},[t._v(" "+t._s("￥"+a.row.PaymentAmount.toFixed(2)))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"Confirmer",label:"确认人_财务",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"ConfirmDt",label:"确认日期",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"StateStr",label:"发票状态",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"CreateDate",label:"创建时间",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"SalerName",label:"销售",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(a){return[null==a.row.Confirmer?e("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(e){return t.ConfirmMSOPayment(a.row)}}},[t._v("收款")]):t._e()]}}])})],1)],1),t._v(" "),e("SaxoFenYe",{attrs:{total:t.total},on:{func:t.func}}),t._v(" "),e("el-dialog",{attrs:{title:"收款",visible:t.dialogVisible,width:"30%","modal-append-to-body":!1},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("客户名")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.CusFullName))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("客户类型")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.CusType))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("订单编号")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.SOCode))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("创建日期")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.CreateDate))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("确认人_财务")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.Confirmer))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("确认日期")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.ConfirmDt))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("开票状态")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.StateStr))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("区域")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.Area))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("销售")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.SalerName))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("合同总金额")]),t._v(" "),e("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.ContactAmount))]),t._v(" "),e("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[e("span",[t._v("本次付款金额")]),t._v(" "),e("span",{staticClass:"#SPan"}),e("span",{staticStyle:{fontSize:"40px",color:"red",width:"200px"}},[t._v(t._s(t.UData.PaymentAmount))])]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(a){return t.ConfirmMSOPayment2()}}},[t._v("收款")])],1)])],1)},staticRenderFns:[]};var o=e("VU/8")(i,n,!1,function(t){e("V7eF")},"data-v-71d45b9e",null);a.default=o.exports}});