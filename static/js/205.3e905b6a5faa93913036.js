webpackJsonp([205],{F28v:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("mvHQ"),r=a.n(l),s={data:function(){return{retrieval:{pageNum:1,numPerPage:this.$store.state.NewDisplayNumber,orderField:"",entrustCode:"",orderDirection:"",fullname:"",begin:"",end:"",state:-1,area:"",cusType:""},Data:[],total:0,pickerDate:"",StateTypes:[{name:"全部",Value:-1},{name:"临时创建",Value:3},{name:"校准中",Value:1},{name:"已归档",Value:2},{name:"已删除",Value:9},{name:"校准完毕",Value:4}]}},created:function(){this.start()},computed:{retrievalJT:function(){return r()(this.retrieval)}},watch:{retrievalJT:function(e,t){this.WatchFenYe(e,t)?this.$refs.SaxoFenYe.ReviseConNumber1():this.start()}},methods:{start:function(){var e=this;this.API_GET("Bill/GetCalibrationEntrusts",this.retrieval).then(function(t){console.log(t.Dtos),e.Data=t.Dtos,e.total=t.DataBars;for(var a=0;a<e.Data.length;a++){var l=e.Data[a];l.EntrustDate=l.EntrustDate?l.EntrustDate.split("T")[0]:" - ",1==l.State?l.State="校准中":2!=l.State||(l.State="已归档")}})},pick:function(e){console.log(e),null==e?(this.retrieval.begin="",this.retrieval.end=""):(this.retrieval.begin=e[0],this.retrieval.end=e[1]),this.start()},func:function(e,t){this.retrieval.numPerPage=e,this.retrieval.pageNum=t,this.start()},edit:function(e){this.$router.push({name:"calibration-order-edit",params:{Id:e.ID}})},create:function(){this.$router.push({path:"calibration-order-create"})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:e.start}}),e._v(" "),a("div",{staticClass:"retrieve"},[a("div",{staticClass:"leftSpan"},[e._v("\n            "+e._s(e.$route.meta.title)+"\n        ")]),e._v(" "),a("div",{staticClass:"ConView"},[a("div",{staticClass:"department"},[a("span",[e._v("客户名称")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入客户名称",size:"mini"},model:{value:e.retrieval.fullname,callback:function(t){e.$set(e.retrieval,"fullname",t)},expression:"retrieval.fullname"}})],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("委托单号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入委托单号",size:"mini"},model:{value:e.retrieval.entrustCode,callback:function(t){e.$set(e.retrieval,"entrustCode",t)},expression:"retrieval.entrustCode"}})],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("选择状态：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择状态",size:"mini"},model:{value:e.retrieval.state,callback:function(t){e.$set(e.retrieval,"state",t)},expression:"retrieval.state"}},e._l(e.StateTypes,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.Value}})}),1)],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("区域：")]),e._v(" "),a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"请选择区域"},model:{value:e.retrieval.area,callback:function(t){e.$set(e.retrieval,"area",t)},expression:"retrieval.area"}},e._l(e.$store.state.Vuex.Area,function(e){return a("el-option",{key:e.Value,attrs:{label:e.Value,value:e.Value}})}),1)],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("客户类型：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择客户类型",size:"mini",clearable:""},model:{value:e.retrieval.cusType,callback:function(t){e.$set(e.retrieval,"cusType",t)},expression:"retrieval.cusType"}},e._l(e.$store.state.CustomerType,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",{staticClass:"department",staticStyle:{width:"500px"}},[a("span",[e._v("时间")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"calc(500px - 100px)"},attrs:{type:"datetimerange",size:"mini","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","default-time":["12:00:00"]},on:{change:e.pick},model:{value:e.pickerDate,callback:function(t){e.pickerDate=t},expression:"pickerDate"}})],1)]),e._v(" "),a("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"success"},on:{click:function(t){return e.create()}}},[e._v("创 建")])],1),e._v(" "),a("div",{staticClass:"content2"},[a("el-table",{attrs:{stripe:"",data:e.Data,"header-cell-style":e.$store.state.headerCellStyle,"cell-style":e.$store.state.cellStyle,height:"100%"}},[a("el-table-column",{attrs:{prop:"CusFullName",label:"客户全称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"Area",label:"区域",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CusType",label:"客户类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"LinkMan",label:"联系人",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"EntrustCode",label:"委托单号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"EntrustDate",label:"委托日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"StateStr",label:"状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("SaxoFenYe",{ref:"SaxoFenYe",attrs:{total:e.total},on:{func:e.func}})],1)},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.default=n.exports}});