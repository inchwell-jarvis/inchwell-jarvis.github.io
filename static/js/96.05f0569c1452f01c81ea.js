webpackJsonp([96],{"2GpS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{search:"",Data:[],pageNum:1,pagesize:10,total:0,productCode:"",barcodeMemo:"",man:"",desc:"",memo:"",options:[],index:0}},created:function(){this.init()},methods:{AddMultipleTable:function(){console.log(this.$refs.multipleTable.selection);var e=this.$refs.multipleTable.selection;if(0==e.length)return this.$message.warning("未选择设备！"),!1;this.index=e.length;for(var t=0;t<e.length;t++){var a=e[t];this.adds(a)}},handleChange:function(e){console.log(e)},init:function(){var e=this,t={pageNum:this.pageNum,numPerPage:this.pagesize,orderField:"",orderDirection:"",proType:1,productCode:this.productCode,barcodeMemo:this.barcodeMemo,man:this.man,desc:this.desc,memo:this.memo};this.API_GET("Product/GetProducts2",t).then(function(t){e.total=t.DataBars,e.Data=t.Dtos;for(var a=0;a<e.Data.length;a++)e.Data[a].UpdateDate=e.Data[a].UpdateDate.split("T")[0],e.$set(e.Data[a],"Number",1)})},adds:function(e,t){var a=this,i={SOId:this.$store.state.Vuex.SOId,ProductId:e.ID,Number:e.Number,IsAssembly:!0};this.API_POST("SO/AddSoGood",i,"1"===t).then(function(e){"1"===t?(a.$emit("refresh"),a.$router.push({path:"/EditOrder"})):(a.index-=1,0===a.index&&(a.$emit("refresh"),a.$router.push({path:"/EditOrder"})))})},func:function(e,t){this.pagesize=e,this.pageNum=t,this.init()}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box_s"},[a("div",{staticClass:"top_init_data"},[a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品编码"},on:{change:function(t){return e.init()}},model:{value:e.productCode,callback:function(t){e.productCode=t},expression:"productCode"}}),e._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入内部编码"},on:{change:function(t){return e.init()}},model:{value:e.barcodeMemo,callback:function(t){e.barcodeMemo=t},expression:"barcodeMemo"}}),e._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品描述"},on:{change:function(t){return e.init()}},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}}),e._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品备注"},on:{change:function(t){return e.init()}},model:{value:e.memo,callback:function(t){e.memo=t},expression:"memo"}}),e._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",size:"mini",placeholder:"请选择品牌"},on:{change:function(t){return e.init()}},model:{value:e.man,callback:function(t){e.man=t},expression:"man"}},e._l(e.$store.state.Vuex.Brand,function(e){return a("el-option",{key:e.ID,attrs:{label:e.Value,value:e.Value}})}),1),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.init()}}},[e._v("检索")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.Data,height:this.$store.state.TableOptimumHeight,size:"mini","highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{prop:"BarcodeMemo",label:"内部编码",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Manufacturer",label:"品牌",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Characteristics",label:"产品描述","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"Unit",label:"单位",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UpdateDate",label:"更新时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{min:1,max:1e4,label:"描述文字",size:"mini"},on:{change:e.handleChange},model:{value:t.row.Number,callback:function(a){e.$set(t.row,"Number",a)},expression:"scope.row.Number"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.adds(t.row,"1")}}},[e._v("添加")])]}}])})],1),e._v(" "),a("SaxoFenYe",{attrs:{total:e.total},on:{func:e.func}}),e._v(" "),a("saxo-button",{staticClass:"fr",attrs:{mini:""},on:{click:function(t){return e.AddMultipleTable()}}},[e._v("添加选择")])],1)},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(e){a("Kgwf")},"data-v-63711100",null);t.default=o.exports},Kgwf:function(e,t){}});