webpackJsonp([75],{TZwA:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("BO1k"),n=l.n(a),o=l("t4zo"),i=l.n(o),r=l("uXZL"),s=l.n(r),c={data:function(){return{productCode:"",ProductDto:{Jing:"无"},tableData:[],tableData2:[],cgTable:[],ztTable:[],ysTable:[],sale:"",client:"",contract:""}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{download:function(t,e){var l=s.a.utils.table_to_book(document.querySelector(t),{raw:!0}),a=s.a.write(l,{bookType:"xlsx",bookSST:!0,type:"array"});try{i.a.saveAs(new Blob([a],{type:"application/octet-stream"}),e+".xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,a)}return a},downloadMultipleTables:function(t,e){var l={raw:!0},a=s.a.utils.book_new(),o=!0,r=!1,c=void 0;try{for(var u,p=n()(t);!(o=(u=p.next()).done);o=!0){var d=u.value,b=s.a.utils.table_to_sheet(document.querySelector(d),l),v=d;s.a.utils.book_append_sheet(a,b,v)}}catch(t){r=!0,c=t}finally{try{!o&&p.return&&p.return()}finally{if(r)throw c}}var _=s.a.write(a,{bookType:"xlsx",bookSST:!0,type:"array"});try{i.a.saveAs(new Blob([_],{type:"application/octet-stream"}),e+".xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,_)}},path:function(t){this.$router.push({path:"/machine-purchase-edit",query:{Id:t.ContractId,PointingDevice:this.productCode}})},indexOfData:function(){var t=this;console.log(this.sale),console.log(this.client),console.log(this.contract);var e=[];""!=this.sale?this.tableData2.forEach(function(l){-1!=l.Saler.indexOf(t.sale)&&e.push(l)}):e=this.tableData2;var l=[];""!=this.client?e.forEach(function(e){-1!=e.CusFullName.indexOf(t.client)&&l.push(e)}):l=e;var a=[];""!=this.contract?l.forEach(function(e){-1!=e.ContractCode.indexOf(t.contract)&&a.push(e)}):a=l,this.cgTable=[],this.ztTable=[],this.ysTable=[],this.tableData=a,console.log(this.tableData),this.tableData.forEach(function(e){e.Dt=e.Dt?e.Dt.split("T")[0]:"","采购中"===e.Type&&t.cgTable.push(e),"在途"===e.Type&&t.ztTable.push(e),"已收"===e.Type&&t.ysTable.push(e)})},start:function(){var t=this;this.sale="",this.client="",this.contract="",""!=this.productCode&&this.API_GET("MachineSO/MpoSentStat",{productCode:this.productCode}).then(function(e){t.tableData=e.Dtos,t.tableData2=e.Dtos,t.ProductDto=e.ProductDto,console.log(t.tableData),console.log(t.ProductDto),t.cgTable=[],t.ztTable=[],t.tableData.forEach(function(e){null!=e.Dt&&(e.Dt=e.Dt.split("T")[0]),"采购中"===e.Type&&t.cgTable.push(e),"在途"===e.Type&&t.ztTable.push(e),"已收"===e.Type&&t.ysTable.push(e)})})}}},u={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("SaxoPage",{scopedSlots:t._u([{key:"title",fn:function(){return[l("div",{staticClass:"department"},[l("span",[t._v("对内编码")]),t._v(" "),l("el-input",{attrs:{placeholder:"请输入对内编码",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.productCode,callback:function(e){t.productCode=e},expression:"productCode"}})],1),t._v(" "),l("div",{staticClass:"department"},[l("span",[t._v("销售")]),t._v(" "),l("el-input",{attrs:{placeholder:"请输入销售",size:"mini"},on:{input:function(e){return t.indexOfData()}},model:{value:t.sale,callback:function(e){t.sale=e},expression:"sale"}})],1),t._v(" "),l("div",{staticClass:"department"},[l("span",[t._v("客户")]),t._v(" "),l("el-input",{attrs:{placeholder:"请输入客户",size:"mini"},on:{input:function(e){return t.indexOfData()}},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}})],1),t._v(" "),l("div",{staticClass:"department"},[l("span",[t._v("合同号")]),t._v(" "),l("el-input",{attrs:{placeholder:"请输入合同号",size:"mini"},on:{input:function(e){return t.indexOfData()}},model:{value:t.contract,callback:function(e){t.contract=e},expression:"contract"}})],1)]},proxy:!0},{key:"content",fn:function(){return["无"!=t.ProductDto.Jing?l("div",[l("saxo-button",{staticStyle:{float:"right","margin-right":"13px"},attrs:{mini:"",type:"info"},on:{click:function(e){return t.download("#已收","整机发货统计_已收")}}},[t._v("已收\n                "),l("i",{staticClass:"el-icon-download"})]),t._v(" "),l("saxo-button",{staticStyle:{float:"right","margin-right":"13px"},attrs:{mini:"",type:"info"},on:{click:function(e){return t.download("#在途","整机发货统计_在途")}}},[t._v("在途\n                "),l("i",{staticClass:"el-icon-download"})]),t._v(" "),l("saxo-button",{staticStyle:{float:"right","margin-right":"13px"},attrs:{mini:"",type:"info"},on:{click:function(e){return t.download("#采购中","整机发货统计_采购中")}}},[t._v("采购中\n                "),l("i",{staticClass:"el-icon-download"})]),t._v(" "),l("saxo-button",{staticStyle:{float:"right","margin-right":"13px"},attrs:{mini:"",type:"info"},on:{click:function(e){return t.downloadMultipleTables(["#采购中","#在途","#已收"],"整机发货统计_全部")}}},[t._v("全部\n                "),l("i",{staticClass:"el-icon-download"})])],1):t._e(),t._v(" "),"无"!=t.ProductDto.Jing?l("h3",[t._v("基础信息")]):t._e(),t._v(" "),"无"!=t.ProductDto.Jing?l("el-descriptions",{staticClass:"margin-top",attrs:{column:3,size:"mini",border:""}},[l("el-descriptions-item",[l("template",{slot:"label"},[t._v("\n                    对内编码\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.ProductCode)+"\n            ")],2),t._v(" "),l("el-descriptions-item",[l("template",{slot:"label"},[t._v("\n                    对外编码\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.ProductCode2)+"\n\n            ")],2),t._v(" "),l("el-descriptions-item",[l("template",{slot:"label"},[t._v("\n                    采购中\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.JingDetail.split("*")[0])+"\n            ")],2),t._v(" "),l("el-descriptions-item",[l("template",{slot:"label"},[t._v("\n                    在途\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.JingDetail.split("*")[1])+"\n            ")],2),t._v(" "),l("el-descriptions-item",[l("template",{slot:"label"},[t._v("\n                    在库\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.JingDetail.split("*")[2])+"\n            ")],2),t._v(" "),l("el-descriptions-item",[l("template",{slot:"label"},[t._v("\n                    销售量\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.JingDetail.split("*")[3])+"\n            ")],2),t._v(" "),l("el-descriptions-item",{attrs:{span:"3"}},[l("template",{slot:"label"},[t._v("\n                    净库存\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.JingDetail.split("*")[4])+"\n            ")],2),t._v(" "),l("el-descriptions-item",{attrs:{span:"3"}},[l("template",{slot:"label"},[t._v("\n                    对内描述\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.Desc)+"\n            ")],2),t._v(" "),l("el-descriptions-item",{attrs:{span:"3"}},[l("template",{slot:"label"},[t._v("\n                    对外描述\n                ")]),t._v("\n                "+t._s("  "+t.ProductDto.Desc2)+"\n            ")],2)],1):t._e(),t._v(" "),"无"!=t.ProductDto.Jing?l("div",[l("h3",[t._v("采购中")]),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cgTable,id:"采购中"}},[l("el-table-column",{attrs:{prop:"CusFullName",label:"客户/供应商"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ContractCode",label:"合同号",width:"250"}}),t._v(" "),l("el-table-column",{attrs:{prop:"WaitSent",label:"采购中",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Quantity",label:"采购量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"DeliverQuantity",label:"已发量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ReturnQuantity",label:"退货量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"NoSentQuantity",label:"不发量",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Saler",label:"采购",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Dt",label:"确认时间",width:"150"}})],1),t._v(" "),l("h3",[t._v("在途")]),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.ztTable,id:"在途"}},[l("el-table-column",{attrs:{prop:"CusFullName",label:"客户/供应商"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ContractCode",label:"合同号",width:"250"}}),t._v(" "),l("el-table-column",{attrs:{prop:"WaitSent",label:"在途",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Quantity",label:"采购量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"DeliverQuantity",label:"已发量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ReturnQuantity",label:"退货量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"NoSentQuantity",label:"不发量",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Saler",label:"采购",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Dt",label:"确认时间",width:"150"}})],1),t._v(" "),l("h3",[t._v("已收")]),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.ysTable,id:"已收"}},[l("el-table-column",{attrs:{prop:"CusFullName",label:"客户/供应商"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ContractCode",label:"合同号",width:"250"}}),t._v(" "),l("el-table-column",{attrs:{prop:"WaitSent",label:"已收",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Quantity",label:"采购量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"DeliverQuantity",label:"已发量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ReturnQuantity",label:"退货量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"NoSentQuantity",label:"不发量",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Saler",label:"采购",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Dt",label:"确认时间",width:"150"}})],1),t._v(" "),l("el-table",{staticStyle:{display:"none"},attrs:{data:t.tableData2,id:"table4"}},[l("el-table-column",{attrs:{prop:"CusFullName",label:"客户/供应商"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ContractCode",label:"合同号",width:"250"}}),t._v(" "),l("el-table-column",{attrs:{prop:"WaitSent",label:"全部",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Quantity",label:"采购量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"DeliverQuantity",label:"已发量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ReturnQuantity",label:"退货量",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"NoSentQuantity",label:"不发量",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Saler",label:"采购",width:"170"}}),t._v(" "),l("el-table-column",{attrs:{prop:"Dt",label:"确认时间",width:"150"}})],1)],1):t._e()]},proxy:!0}])})},staticRenderFns:[]};var p=l("VU/8")(c,u,!1,function(t){l("xonN")},"data-v-7b4c9ade",null);e.default=p.exports},xonN:function(t,e){}});