webpackJsonp([213],{FMHa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:t.start}}),t._v(" "),a("div",{staticClass:"retrieve"},[a("div",{staticClass:"leftSpan"},[t._v("\n            订单模板\n        ")]),t._v(" "),a("div",{staticClass:"ConView"},[a("div",{staticClass:"department"},[a("span",[t._v("标题、更新人")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入标题、更新人",size:"mini"},on:{input:function(e){return t.start()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),t._v(" "),a("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"success"},on:{click:function(e){return t.CreateMSO()}}},[t._v("创 建")]),t._v(" "),a("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"primary"},on:{click:function(e){return t.start()}}},[t._v("搜 索")])],1),t._v(" "),a("div",{staticClass:"content2"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":t.$store.state.headerCellStyle,"cell-style":t.$store.state.cellStyle,stripe:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"CreateDate",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Title",label:"模板标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Updater",label:"最后更新人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"UpdateDt",label:"最后更新日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Memo",label:"备注","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"EquCount",label:"设备合计"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(a){return t.MachineSO(e.row)}}},[t._v("编辑")]),t._v(" "),a("saxo-button",{attrs:{mini:"",type:"danger"},on:{click:function(a){return t.DelSOTemplate(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("SaxoFenYe",{attrs:{total:t.total},on:{func:t.func}})],1)},staticRenderFns:[]},r=a("VU/8")({data:function(){return{search:"",tableData:[],total:0,pageNum:1,numPerPage:this.$store.state.NewDisplayNumber}},computed:{},watch:{},methods:{DelSOTemplate:function(t){var e=this;this.$confirm("此操作将永久删除该模板, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.API_POST("MachineSO/DelSOTemplate",{ID:t.ID}).then(function(t){e.$message.success("删除成功！"),e.start()})}).catch(function(){e.$message.info("已取消删除")})},CreateMSO:function(){this.$router.push({path:"/order-template-create"})},MachineSO:function(t){this.$router.push({path:"/order-template-edit",query:{Id:t.ID}})},start:function(){var t=this,e={search:this.search,pageNum:this.pageNum,numPerPage:this.numPerPage,orderField:"",orderDirection:""};this.API_GET("MachineSO/GetSOTemplates",e).then(function(e){t.tableData=e.Dtos;for(var a=0;a<t.tableData.length;a++){var n=t.tableData[a];n.CreateDate=n.CreateDate.split("T")[0],n.UpdateDt=n.UpdateDt.split("T")[0]}t.total=e.DataBars})},func:function(t,e){this.numPerPage=t,this.pageNum=e,this.start()}},created:function(){this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},n,!1,null,null,null);e.default=r.exports}});