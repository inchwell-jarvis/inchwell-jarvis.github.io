webpackJsonp([76],{aKGk:function(t,e){},rihZ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={data:function(){return{options:[{value:"6",label:"半年"},{value:"12",label:"一年"},{value:"18",label:"一年半"},{value:"24",label:"两年"}],optionss:[],Product:{Recovery:!1,ProductCode:"",ProductionYear:"",GuaranteePeriodMonths:"",Characteristics:"",MaintainContent:"",KitFlag:!1,MinInventoryAlert:"",MaxInventoryAlert:"",OptimalInventory:"",Unit:"",UnitPrice:"",CountingUnit:30,AssemblyUnitPriceTime:"",AssemblyUnitPrice:"0",BuyingUnitPrice:"",BuyingCurrency:"RMB",Barcode:"",BarcodeMemo:"",RepairCharge:"",ReapirChargeEUR:"",MaintainPrice:"",MaintainHours:"",BMBSJ:"35",Manufacturer:""},state1:"",restaurants:[]}},mounted:function(){this.Manufacturer()},methods:{Manufacturer:function(){var t=this,e={api:"get",url:this.$store.state.http+"Product/GetManufacturer"};this.$https(e).then(function(e){t.optionss=e.Data;for(var i=[],r=0;r<e.Data.length;r++)i.push({value:e.Data[r].Name,address:e.Data[r].ID});t.restaurants=i,console.log(i)})},querySearch:function(t,e){var i=this.restaurants;e(t?i.filter(this.createFilter(t)):i)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},BuyingUnitPrice:function(){console.log(9*this.Product.ReapirChargeEUR*1.06),this.Product.RepairCharge=(9*this.Product.ReapirChargeEUR*1.06).toFixed(2)},AssemblyUnitPriceTimeMN:function(t){this.Product.AssemblyUnitPrice=(14*this.Product.AssemblyUnitPriceTime*1.17).toFixed(2)},MaintainPrice:function(){this.Product.MaintainPrice=(this.Product.MaintainHours*this.Product.BMBSJ).toFixed(2)},handleSelect:function(t){console.log(t.address),this.Product.ManufacturerAddress=t.address},BuyingUnitPriceOnclick:function(){console.log(this.Product),"85d3cebb-c6be-4940-8037-8a38d70edf22"==this.Product.ManufacturerAddress?(this.Product.UnitPrice=.7*this.Product.BuyingUnitPrice*1.15*1.15*1.17*1.001*1.02*8.7809/.5,this.Product.UnitPrice=this.Product.UnitPrice.toFixed(2)):"5db92775-3cfb-466c-b414-d9c647d2f9b0"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.75*1.1).toFixed(2):"63501f26-7e48-41ae-bc11-5862cf4e1783"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.65).toFixed(2):"9dfeb543-a782-4ba5-a9ec-8f2a6bacd7f1"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.65).toFixed(2):"8c2befd7-36cb-4974-b905-e0a494ecf9c3"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.55).toFixed(2):"D0D9DDB9-18E5-43C0-97AA-CE538F0685AD"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.6).toFixed(2):("RMB"==this.Product.BuyingCurrency&&(this.Product.UnitPrice=this.Product.BuyingUnitPrice/.5,this.Product.UnitPrice=this.Product.UnitPrice.toFixed(2)),"EUR"==this.Product.BuyingCurrency&&(this.Product.UnitPrice=1.25*this.Product.BuyingUnitPrice*1.15*1.17*1.001*1.02*8.7809/.5,this.Product.UnitPrice=this.Product.UnitPrice.toFixed(2)))},add:function(){var t=this;if(""==this.Product.BarcodeMemo)return this.$message.warning("请输入内部编码！");if(""==this.Product.Manufacturer)return this.$message.warning("请输入品牌！");if(""==this.Product.Characteristics)return this.$message.warning("请输入产品描述！");var e={api:"post",url:this.$store.state.http+"Product/AddProduct",data:{ProductCode:this.Product.ProductCode,ProductionYear:Number(this.Product.ProductionYear),GuaranteePeriodMonths:this.Product.GuaranteePeriodMonths,Characteristics:this.Product.Characteristics,MaintainContent:this.Product.MaintainContent,KitFlag:!0,proType:"6",MinInventoryAlert:Number(this.Product.MinInventoryAlert),MaxInventoryAlert:Number(this.Product.MaxInventoryAlert),OptimalInventory:Number(this.Product.OptimalInventory),Unit:this.Product.Unit,UnitPrice:Number(this.Product.UnitPrice),AssemblyUnitPrice:Number(this.Product.AssemblyUnitPrice),BuyingUnitPrice:Number(this.Product.BuyingUnitPrice),BuyingCurrency:this.Product.BuyingCurrency,Barcode:this.Product.Barcode,BarcodeMemo:this.Product.BarcodeMemo,RepairCharge:Number(this.Product.RepairCharge),ReapirChargeEUR:Number(this.Product.ReapirChargeEUR),MaintainPrice:Number(this.Product.MaintainPrice),MaintainHours:Number(this.Product.MaintainHours),Manufacturer:this.Product.Manufacturer,Recovery:this.Product.Recovery,CountingUnit:Number(this.Product.CountingUnit)}};this.$https(e).then(function(e){0==e.Code&&(t.$emit("refresh"),t.$router.push({path:"/SalesMachine"}),t.$message.success("添加成功！"))})}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box_s"},[i("div",{staticClass:"Data_1"},[t._v("基础数据")]),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("对内编码:")]),t._v(" "),i("el-input",{attrs:{size:"mini"},model:{value:t.Product.ProductCode,callback:function(e){t.$set(t.Product,"ProductCode",e)},expression:"Product.ProductCode"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("对外编码:")]),t._v(" "),i("el-input",{attrs:{maxlength:"16",size:"mini"},model:{value:t.Product.BarcodeMemo,callback:function(e){t.$set(t.Product,"BarcodeMemo",e)},expression:"Product.BarcodeMemo"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("品牌:")]),t._v(" "),i("el-row",{staticClass:"demo-autocomplete"},[i("el-col",[i("el-autocomplete",{staticClass:"inline-input input",attrs:{size:"mini","fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{select:t.handleSelect,input:t.BuyingUnitPriceOnclick},model:{value:t.Product.Manufacturer,callback:function(e){t.$set(t.Product,"Manufacturer",e)},expression:"Product.Manufacturer"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("保质期:")]),t._v(" "),i("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:t.Product.GuaranteePeriodMonths,callback:function(e){t.$set(t.Product,"GuaranteePeriodMonths",e)},expression:"Product.GuaranteePeriodMonths"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("div",{staticClass:"Data_1"},[t._v("价格属性")]),t._v(" "),i("div",{staticClass:"Data_2"},[i("div",{staticClass:"demo2"},[i("div",{staticClass:"div_567876"},[t._v("采购单价:")]),t._v(" "),i("el-input",{staticClass:"input-with-select no-number",staticStyle:{width:"calc(100% - 120px)"},attrs:{placeholder:"请输入内容",size:"mini",type:"number"},on:{input:t.BuyingUnitPriceOnclick},model:{value:t.Product.BuyingUnitPrice,callback:function(e){t.$set(t.Product,"BuyingUnitPrice",e)},expression:"Product.BuyingUnitPrice "}},[i("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",size:"mini",placeholder:"请选择币种"},on:{change:t.BuyingUnitPriceOnclick},slot:"prepend",model:{value:t.Product.BuyingCurrency,callback:function(e){t.$set(t.Product,"BuyingCurrency",e)},expression:"Product.BuyingCurrency"}},[i("el-option",{attrs:{label:"RMB",value:"RMB"}}),t._v(" "),i("el-option",{attrs:{label:"EUR",value:"EUR"}}),t._v(" "),i("el-option",{attrs:{label:"GBP",value:"GBP"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("销售单价:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{type:"number",size:"mini"},model:{value:t.Product.UnitPrice,callback:function(e){t.$set(t.Product,"UnitPrice",e)},expression:"Product.UnitPrice"}})],1)]),t._v(" "),i("div",{staticClass:"Data_1"},[t._v("描述，备注")]),t._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"Memo"},[i("div",[t._v("产品描述：")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:t.Product.Characteristics,callback:function(e){t.$set(t.Product,"Characteristics",e)},expression:"Product.Characteristics"}})],1),t._v(" "),i("div",{staticClass:"Memo"},[i("div",[t._v("内部描述：")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:t.Product.MaintainContent,callback:function(e){t.$set(t.Product,"MaintainContent",e)},expression:"Product.MaintainContent"}})],1),t._v(" "),i("div",{staticClass:"Memo"},[i("div",[t._v("备注：")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:t.Product.Barcode,callback:function(e){t.$set(t.Product,"Barcode",e)},expression:"Product.Barcode"}})],1)]),t._v(" "),i("div",{staticClass:"true"},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.add()}}},[t._v("确认添加")])],1)])},staticRenderFns:[]};var n=i("VU/8")(r,c,!1,function(t){i("aKGk")},"data-v-7a74d210",null);e.default=n.exports}});