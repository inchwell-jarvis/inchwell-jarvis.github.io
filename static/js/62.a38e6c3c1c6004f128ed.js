webpackJsonp([62],{Whob:function(t,e){},cBjo:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("bOdI"),l=o.n(a),r=o("t4zo"),s=o.n(r),i=o("uXZL"),n=o.n(i),c={data:function(){var t;return{tableData:[],tableData2:[],headerCellStyle:(t={background:"#f7f8fd",fontSize:"12px",fontWeight:400,fontStyle:"normal"},l()(t,"fontSize","11px"),l()(t,"padding","5px"),t),cellStyle:{height:"48px",fontSize:"12px"},storeFlagOptions:[{label:"全部",value:-1},{label:"入库",value:0},{label:"出库",value:1}],storeFlag:-1,isSystemgOptions:[{label:"全部",value:-1},{label:"直接",value:0},{label:"系统",value:1}],isSystem:-1,productCode:"",barcodeMemo:"",memo:"",brand:"",desc:"",DateTime:"",dispositon:"",total:0,pageNum:1,numPerPage:this.$store.state.NewDisplayNumber}},computed:{},watch:{},methods:{exportExcelToStart:function(){var t=this,e={data:{productCode:this.productCode,barcodeMemo:this.barcodeMemo,brand:this.brand,desc:this.desc,begin:this.DateTime?this.DateTime[0]:"",end:this.DateTime?this.DateTime[1]:"",storeFlag:this.storeFlag,isSystem:this.isSystem,dispositon:this.dispositon,pageNum:this.pageNum,numPerPage:99999999,orderField:"",orderDirection:"",memo:this.memo},api:"get",url:this.$store.state.http+"StorageRoom/GetPro1IRs"};this.$https(e).then(function(e){console.log(e),t.tableData2=e.Data.Dtos,t.tableData2.forEach(function(t){t.IsSystem=t.IsSystem?"系统":"直接",0==t.StoreFlag&&(t.StoreFlag="入库"),1==t.StoreFlag&&(t.StoreFlag="出库"),2==t.StoreFlag&&(t.StoreFlag="转移")}),t.tableData2=t.DispositonSplit(t.tableData2);var o=t;setTimeout(function(){o.exportExcelTo()},2e3)})},DispositonSplit:function(t){if(0==t.length)return[];var e=/\【(.*?)\】/g;return t.forEach(function(t){for(var o=[],a=void 0;null!==(a=e.exec(t.Dispositon));)o.push(a[1]);for(var l=0;l<o.length;l++){var r=o[l];t["other"+l]=r}}),t},exportExcelTo:function(){var t=n.a.utils.table_to_book(document.querySelector("#out-table"),{raw:!0}),e=n.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{s.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"零配件出入库记录.xlsx"),this.tableData2=null}catch(t){"undefined"!=typeof console&&console.log(t,e)}return e},start:function(){var t=this,e={productCode:this.productCode,barcodeMemo:this.barcodeMemo,brand:this.brand,desc:this.desc,begin:this.DateTime?this.DateTime[0]:"",end:this.DateTime?this.DateTime[1]:"",storeFlag:this.storeFlag,isSystem:this.isSystem,dispositon:this.dispositon,pageNum:this.pageNum,numPerPage:this.numPerPage,orderField:"",orderDirection:"",memo:this.memo};this.API_GET("StorageRoom/GetPro1IRs",e).then(function(e){console.log(e),t.tableData=e.Dtos,t.total=e.DataBars,t.tableData.forEach(function(t){t.IsSystem=t.IsSystem?"系统":"直接",0==t.StoreFlag&&(t.StoreFlag="入库"),1==t.StoreFlag&&(t.StoreFlag="出库"),2==t.StoreFlag&&(t.StoreFlag="转移")})})},func:function(t,e){this.numPerPage=t,this.pageNum=e,this.start()},querySearch:function(t,e){if(void 0==t)return t="",e(this.Optios),!1;if(""==t)return e(this.Optios),!1;for(var o=t,a=this.Optios,l=[],r=(o.split("")[0],0);r<a.length;r++){var s=a[r];-1!=s.value.indexOf(o)&&l.push(s)}e(l)},Manufacturer:function(){var t=this,e={url:this.$store.state.http+"System/GetBrand",api:"get"};this.$https(e).then(function(e){t.Optios=e.Data;for(var o=0;o<t.Optios.length;o++)t.Optios[o].value=t.Optios[o].Value;console.log(t.Optios)})}},created:function(){this.Manufacturer(),this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box"},[o("router-view",{on:{refresh:t.start}}),t._v(" "),o("div",{staticClass:"retrieve"},[o("div",{staticClass:"leftSpan"},[t._v("\n            零配件出入库记录\n        ")]),t._v(" "),o("div",{staticClass:"ConView"},[o("div",{staticClass:"department"},[o("span",[t._v("产品编码")]),t._v(" "),o("el-input",{attrs:{placeholder:"产品编码",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.productCode,callback:function(e){t.productCode=e},expression:"productCode"}})],1),t._v(" "),o("div",{staticClass:"department"},[o("span",[t._v("内部编码")]),t._v(" "),o("el-input",{attrs:{placeholder:"内部编码",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.barcodeMemo,callback:function(e){t.barcodeMemo=e},expression:"barcodeMemo"}})],1),t._v(" "),o("div",{staticClass:"department"},[o("span",[t._v("描述")]),t._v(" "),o("el-input",{attrs:{placeholder:"描述",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),t._v(" "),o("div",{staticClass:"department"},[o("span",[t._v("出入库")]),t._v(" "),o("el-select",{attrs:{placeholder:"出入库",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.storeFlag,callback:function(e){t.storeFlag=e},expression:"storeFlag"}},t._l(t.storeFlagOptions,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),o("div",{staticClass:"department"},[o("span",[t._v("方式")]),t._v(" "),o("el-select",{attrs:{placeholder:"出入库",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.isSystem,callback:function(e){t.isSystem=e},expression:"isSystem"}},t._l(t.isSystemgOptions,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),o("div",{staticClass:"department"},[o("span",[t._v("去向")]),t._v(" "),o("el-input",{attrs:{placeholder:"去向",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.dispositon,callback:function(e){t.dispositon=e},expression:"dispositon"}})],1),t._v(" "),o("div",{staticClass:"department",staticStyle:{width:"510px"}},[o("span",[t._v("日期")]),t._v(" "),o("el-date-picker",{attrs:{size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:function(e){return t.start()}},model:{value:t.DateTime,callback:function(e){t.DateTime=e},expression:"DateTime"}})],1),t._v(" "),o("div",{staticClass:"department"},[o("span",[t._v("备注")]),t._v(" "),o("el-input",{attrs:{placeholder:"备注",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)]),t._v(" "),o("el-button",{staticStyle:{float:"right","margin-top":"13px","margin-right":"13px"},attrs:{type:"info",size:"mini"},on:{click:function(e){return t.exportExcelToStart()}}},[t._v("导出")]),t._v(" "),o("saxo-button",{staticStyle:{float:"right","margin-top":"13px","margin-right":"13px"},attrs:{mini:"",type:"primary"},on:{click:function(e){return t.start()}}},[t._v("搜 索")])],1),t._v(" "),o("div",{staticClass:"content2"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":t.headerCellStyle,"cell-style":t.cellStyle,stripe:"",height:"100%"}},[o("el-table-column",{attrs:{prop:"ProductCode",label:"产品编码",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"BarcodeMemo",label:"内部编码",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Locations",label:"当前库存",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"StoreFlag",label:"出入库",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"IsSystem",label:"方式",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Number",label:"数量",width:"60"}}),t._v(" "),o("el-table-column",{attrs:{prop:"CreateDateStr",label:"发生时间",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Dispositon",label:"去向","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"Characteristics",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"Memo",label:"备注",width:"150","show-overflow-tooltip":!0}})],1),t._v(" "),o("el-table",{staticStyle:{display:"none"},attrs:{id:"out-table",data:t.tableData2}},[o("el-table-column",{attrs:{prop:"CusFullName",label:"客户名称",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"ContractCode",label:"相关合同号",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"ProductCode",label:"产品编码",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"BarcodeMemo",label:"内部编码",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Locations",label:"当前库存",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"StoreFlag",label:"出入库",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"IsSystem",label:"方式",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Number",label:"数量",width:"60"}}),t._v(" "),o("el-table-column",{attrs:{prop:"BuyCurrency",label:"采购单价币种",width:"60"}}),t._v(" "),o("el-table-column",{attrs:{prop:"BuyPrice",label:"采购单价",width:"60"}}),t._v(" "),o("el-table-column",{attrs:{prop:"UnitPrice",label:"销售单价",width:"60"}}),t._v(" "),o("el-table-column",{attrs:{prop:"CreateDateStr",label:"发生时间",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Dispositon",label:"去向","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"Characteristics",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"Memo",label:"备注",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other0",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other1",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other2",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other3",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other4",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other5",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other6",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other7",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other8",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other9",label:"",width:"150","show-overflow-tooltip":!0}}),t._v(" "),o("el-table-column",{attrs:{prop:"other10",label:"",width:"150","show-overflow-tooltip":!0}})],1)],1),t._v(" "),o("SaxoFenYe",{attrs:{total:t.total},on:{func:t.func}})],1)},staticRenderFns:[]};var u=o("VU/8")(c,p,!1,function(t){o("Whob")},"data-v-96aeabb4",null);e.default=u.exports}});