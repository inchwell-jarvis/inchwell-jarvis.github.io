webpackJsonp([81],{"+dnu":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{search:"",state:"",data:[],options:[{label:"可用",value:!0,index:1},{label:"不可用",value:!1,index:2}],select:!0,dialogTableVisible:!1,UserName:"",Memo:"",PassWord:"",PassWordtwo:""}},created:function(){this.init()},filters:{capitalize:function(t){for(var e="",s=0;s<t.length;s++)e+=t[s].Name+" ";return e}},methods:{PassWordG:function(t){},init:function(){var t=this;if("kehu"!=localStorage.getItem("sf"))return!1;var e={data:{cusId:JSON.parse(localStorage.getItem("Logo")).CusId,enable:this.select,role:"",search:this.search},api:"get",url:this.$store.state.http+"CRM/GetCusAccounts"};this.$https(e).then(function(e){console.log(e.Data.Dtos),t.data=e.Data.Dtos})},switchs:function(t){var e=this,s={data:{Str:t.Id},api:"post",url:this.$store.state.http+"CRM/SetCusAccount"};this.$https(s).then(function(t){e.init(),e.$message({message:"修改状态成功",type:"success"})})},sele:function(){this.init()},addtrue:function(){var t=this;if(""==this.UserName||""==this.Memo||""==this.PassWord)return this.$message({showClose:!0,message:"请输入完整",type:"warning"}),!1;if(this.PassWord!=this.PassWordtwo)return this.$message({showClose:!0,message:"密码输入不一致",type:"warning"}),!1;var e={data:{cusId:JSON.parse(localStorage.getItem("Logo")).CusId,UserName:this.UserName,Memo:this.Memo,PassWord:this.PassWord,Role:"客户"},api:"post",url:this.$store.state.http+"CRM/AddCusAccount"};this.$https(e).then(function(e){t.$refs.primary.start(),t.init(),t.UserName="",t.PassWord="",t.Memo=""})},handleClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(s){t(),e.deleteadddata()}).catch(function(t){})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"TopSerch"},[s("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"请选择"},on:{change:function(e){return t.sele()}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.options,function(t){return s("el-option",{key:t.index,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),s("el-button",{attrs:{type:"primary",loading:this.$store.state.Vuex.loading,size:"mini"},on:{click:function(e){return t.init()}}},[t._v("检索")]),t._v(" "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"mini"},on:{click:function(e){return t.$refs.primary.start()}}},[t._v("添加")])],1),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,size:"mini",height:this.$store.state.TableOptimumHeight,"highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[s("el-table-column",{attrs:{fixed:"",prop:"UserName",label:"登录名",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"Memo",label:"姓名"}}),t._v(" "),s("el-table-column",{attrs:{label:"身份"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("capitalize")(e.row.Roles)))]}}])}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button-group",[s("el-switch",{staticClass:"an",attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return t.switchs(e.row)}},model:{value:e.row.Enable,callback:function(s){t.$set(e.row,"Enable",s)},expression:"scope.row.Enable"}})],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"密码重置",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button-group",[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return t.PassWordG(e.row)}}},[t._v("重置")])],1)]}}])})],1),t._v(" "),s("saxo-pop",{ref:"primary",attrs:{type:"success",title:"添加员工",width:"600px"},on:{close:function(e){return t.$refs.primary.start()}}},[s("div",{staticClass:"dial",staticStyle:{width:"100%",height:"300px"}},[s("div",{staticClass:"templi"},[s("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.UserName,callback:function(e){t.UserName=e},expression:"UserName"}},[s("template",{slot:"prepend"},[t._v("用户名")])],2)],1),t._v(" "),s("div",{staticClass:"templi"},[s("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.Memo,callback:function(e){t.Memo=e},expression:"Memo"}},[s("template",{slot:"prepend"},[t._v("名 字")])],2)],1),t._v(" "),s("div",{staticClass:"templi"},[s("el-input",{attrs:{placeholder:"请输入内容",size:"mini","show-password":""},model:{value:t.PassWord,callback:function(e){t.PassWord=e},expression:"PassWord"}},[s("template",{slot:"prepend"},[t._v("密 码")])],2)],1),t._v(" "),s("div",{staticClass:"templi"},[s("el-input",{attrs:{placeholder:"请输入内容",size:"mini","show-password":""},model:{value:t.PassWordtwo,callback:function(e){t.PassWordtwo=e},expression:"PassWordtwo"}},[s("template",{slot:"prepend"},[t._v("确认密码")])],2)],1)]),t._v(" "),s("div",{staticStyle:{width:"100%","text-align":"right"}},[s("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.$refs.primary.start()}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.addtrue()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(t){s("X/H2")},"data-v-73662adc",null);e.default=o.exports},"X/H2":function(t,e){}});