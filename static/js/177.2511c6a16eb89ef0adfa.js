webpackJsonp([177],{Bj3o:function(t,e){},"r+zU":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),r=i.n(a),s=(i("NYxO"),{data:function(){return{options:[{value:"6",label:"半年"},{value:"12",label:"一年"},{value:"18",label:"一年半"},{value:"24",label:"两年"}],optionss:[],Product:{Recovery:!1,ProductCode:"",ProductionYear:"",GuaranteePeriodMonths:"",Characteristics:"",MaintainContent:"",KitFlag:!1,MinInventoryAlert:"",MaxInventoryAlert:"",OptimalInventory:"",Unit:"",UnitPrice:"",CountingUnit:"",AssemblyUnitPriceTime:"",AssemblyUnitPrice:"",BuyingUnitPrice:"",BuyingCurrency:"RMB",Barcode:"",BarcodeMemo:"",RepairCharge:"",ReapirChargeEUR:"",MaintainPrice:"",MaintainHours:"",BMBSJ:"35",Manufacturer:""},state1:"",restaurants:[],dialogVisibleMainGraph:!1,imageUrlList:[],imageUrl:{type:"",url:""},uploadFileUrlapp:"https://httpbin.org/post",imgVideoBase64List:[],UpFileDataLength:0,UpImgVideoId:"",loading:!1,IdStr:"",UpimgNumber:0,SaxoDrawer:!1,consumablesSearchItem:{pageNum:1,numPerPage:this.$store.state.DisplayNumber,orderField:"",orderDirection:"",proType:"3",productCode:"",barcodeMemo:"",man:"",desc:"",memo:""},HCtableList:[],HCtableListDataBars:0,CusType:"",MaintainHours:"",MaintainPrice2:"",Typeofcustomer:[{label:"宝马"},{label:"保时捷"},{label:"奥迪"},{label:"奔驰"},{label:"劳斯莱斯"},{label:"路虎"},{label:"自由市场"},{label:"其他"}]}},computed:{retrievalJT:function(){return r()(this.consumablesSearchItem)}},watch:{retrievalJT:function(t,e){this.WatchFenYe(t,e)?this.$refs.SaxoFenYe.ReviseConNumber1():this.openAddWindow()}},mounted:function(){this.Manufacturer(),console.log(this.$route.query.Id),this.IdStr=this.$route.query.Id,this.start()},methods:{confirmationJJJ:function(){var t=this;if(!this.CusType)return this.$message.warning("请选择客户类型！"),!1;if(!this.MaintainHours)return this.$message.warning("请输入保养工时！"),!1;if(!this.MaintainPrice2)return this.$message.warning("请输入保养单价！"),!1;var e={ProductId:this.IdStr,CusType:this.CusType,MaintainPrice:this.MaintainPrice2,MaintainHours:this.MaintainHours};this.API_POST("Product/AddProductMCPrice",e).then(function(e){t.$message.success("添加成功！"),t.AddProductMCPrice(),t.start()})},AddProductMCPrice:function(){this.CusType="",this.MaintainHours="",this.MaintainPrice2="",this.$refs.success.start()},DelProductMCPrice:function(t){var e=this;console.log(t),this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.API_POST("Product/DelProductMCPrice",{id:t.ID}).then(function(t){e.$message.success("删除成功！"),e.start()})}).catch(function(){e.$message.info("已取消删除")})},DeleProduct:function(t){var e=this;this.API_POST("Product/DelProductSupplie",{id:t.ID}).then(function(t){e.$message.success("删除"),e.start()})},addSelected:function(){var t=this,e=this.$refs.SaxoDrawer.selection;if(console.log(e),0==e.length)return this.$message.warning("请选择设备！"),!1;var i={id:this.IdStr,Euqs:[]};e.forEach(function(t){i.Euqs.push({ProductId:t.ID,Number:t.Quantity})}),this.API_POST("Product/AddProductSupplie",i).then(function(e){t.$message.success("添加成功"),t.start()})},addTo:function(t){var e=this;console.log(t);var i={id:this.IdStr,Euqs:[{ProductId:t.ID,Number:t.Quantity}]};this.API_POST("Product/AddProductSupplie",i).then(function(t){e.$message.success("添加成功"),e.start()})},UpdateMSOEquPrice:function(t,e,i){"Add"==e&&(t.Quantity+=1),"Del"==e&&(t.Quantity=1==t.Quantity?1:t.Quantity-=1),"saxo"==e&&(t.Quantity=Number(i))},cellClick:function(t){console.log(t),this.$refs.SaxoDrawer.toggleRowSelection(t)},func2:function(t,e){this.consumablesSearchItem.numPerPage=t,this.consumablesSearchItem.pageNum=e,this.openAddWindow()},openAddWindow:function(){var t=this;this.SaxoDrawer=!0,this.API_GET("Product/GetProducts2",this.consumablesSearchItem).then(function(e){console.log(e.Dtos),console.log(e.DataBars),t.HCtableList=e.Dtos,t.HCtableListDataBars=e.DataBars;for(var i=0;i<t.HCtableList.length;i++){var a=t.HCtableList[i];t.$set(a,"Quantity",1),a.UpdateDate=a.UpdateDate?a.UpdateDate.split("T")[0]:"-"}})},deleteImg:function(t){var e=this,i={api:"post",url:this.$store.state.http+"Product/DelProductPhoto",data:{Id:t}};this.$https(i).then(function(t){console.log(t),e.$message.success("图片删除成功！"),e.start()})},beforeuploadMainGraph:function(t){var e=(t.size/1024/1024).toFixed(3);if(console.log(e+"MB"),console.log(t),e>10&&"video/mp4"==t.type)return this.$message.warning("视频文件大小不得超过10MB"),!1;var i=this,a=new FileReader;a.readAsDataURL(t),a.onload=function(e){var r=a.result;i.imgVideoBase64List.push({uid:t.uid,base64:r}),console.log(i.imgVideoBase64List)}},handleSuccessMainGraph:function(t,e,i){console.log("0000000"),this.imageUrlList=i},handlePreviewMainGraph:function(t){this.imageUrl.type=t.raw.type,this.imageUrl.url=t.url,console.log(t),this.$refs.primary.start()},beforeremoveMainGraph:function(t,e){},handleRemoveMainGraph:function(t,e){console.log(t.uid);for(var i=0;i<this.imgVideoBase64List.length;i++){this.imgVideoBase64List[i].uid===t.uid&&this.imgVideoBase64List.splice(i,1)}console.log(this.imgVideoBase64List)},UpImg:function(){if(0==this.imgVideoBase64List.length)return this.$message.warning("请选择图片！"),!1;this.UpimgNumber=this.imgVideoBase64List.length;for(var t=0;t<this.imgVideoBase64List.length;t++){var e=this.imgVideoBase64List[t];this.dealImage(e.base64)}},dealImage:function(t){var e,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5,r=(document.getElementById("uploadimg"),new Image),s=.6;r.src=t,r.setAttribute("crossOrigin","Anonymous");var n=this;r.onload=function(){e=this.width,i=this.height;var t=document.createElement("canvas"),r=t.getContext("2d");Math.max(e,i)>a?e>i?(t.width=a,t.height=a*i/e):(t.height=a,t.width=a*e/i):(t.width=e,t.height=i,s=.6),r.clearRect(0,0,t.width,t.height),r.drawImage(this,0,0,t.width,t.height);var o=t.toDataURL("image/jpeg",s);o="data:image/jpeg;base64,"+(o=o.split(",")[1]),console.log(o),console.log(o.length),n.UploadProductPhoto(o)}},UploadProductPhoto:function(t){var e=this,i={api:"post",url:this.$store.state.http+"Product/UploadProductPhoto",data:{Id:this.IdStr,FileStr:t,Type:1}};this.$https(i).then(function(t){console.log(t),e.UpimgNumber-=1,0==e.UpimgNumber&&(console.log("上传完成！"),e.imgVideoBase64List=[],e.imageUrlList=[],e.start())})},start:function(){var t=this,e={api:"get",url:this.$store.state.http+"Product/GetProduct",data:{Id:this.IdStr}};this.$https(e).then(function(e){console.log(e.Data),t.Product=e.Data,t.Product.ManufacturerAddress=e.Data.ManufacturerId,t.Product.BMBSJ="35",""==t.Product.AssemblyUnitPrice&&(t.Product.AssemblyUnitPrice=0)})},Manufacturer:function(){var t=this,e={api:"get",url:this.$store.state.http+"Product/GetManufacturer"};this.$https(e).then(function(e){t.optionss=e.Data,t.restaurants=[];for(var i=0;i<e.Data.length;i++)t.restaurants.push({value:e.Data[i].Name,address:e.Data[i].ID})})},querySearch:function(t,e){var i=this.restaurants;e(t?i.filter(this.createFilter(t)):i)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},BuyingUnitPrice:function(){console.log(9*this.Product.ReapirChargeEUR*1.06),this.Product.RepairCharge=(9*this.Product.ReapirChargeEUR*1.06).toFixed(2)},AssemblyUnitPriceTimeMN:function(t){this.Product.AssemblyUnitPrice=(14*this.Product.AssemblyUnitPriceTime*1.17).toFixed(2)},MaintainPrice:function(){this.Product.MaintainPrice=(this.Product.MaintainHours*this.Product.BMBSJ).toFixed(2)},handleSelect:function(t){console.log(t.address),this.Product.ManufacturerAddress=t.address},BuyingUnitPriceOnclick:function(){console.log(this.Product),"5db92775-3cfb-466c-b414-d9c647d2f9b0"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.75*1.1).toFixed(2):"63501f26-7e48-41ae-bc11-5862cf4e1783"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.65).toFixed(2):"9dfeb543-a782-4ba5-a9ec-8f2a6bacd7f1"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.65).toFixed(2):"8c2befd7-36cb-4974-b905-e0a494ecf9c3"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.55).toFixed(2):"D0D9DDB9-18E5-43C0-97AA-CE538F0685AD"==this.Product.ManufacturerAddress?this.Product.UnitPrice=(this.Product.BuyingUnitPrice/.6).toFixed(2):("RMB"==this.Product.BuyingCurrency&&(this.Product.UnitPrice=this.Product.BuyingUnitPrice/.5,this.Product.UnitPrice=this.Product.UnitPrice.toFixed(2)),"EUR"==this.Product.BuyingCurrency&&(this.Product.UnitPrice=1.25*this.Product.BuyingUnitPrice*1.15*1.17*1.001*1.02*8.7809/.5,this.Product.UnitPrice=this.Product.UnitPrice.toFixed(2)))},add:function(){var t=this;if(""==this.Product.ProductCode)return this.$message.warning("请输入产品编号！");if(""==this.Product.BarcodeMemo)return this.$message.warning("请输入内部编码！");if(""==this.Product.Manufacturer)return this.$message.warning("请输入品牌！");if(""==this.Product.BuyingUnitPrice)return this.$message.warning("请输入采购单价！");if(""==this.Product.Characteristics)return this.$message.warning("请输入产品描述！");var e={api:"post",url:this.$store.state.http+"Product/UpdateProduct",data:{ID:this.Product.ID,ProductCode:this.Product.ProductCode,ProductionYear:Number(this.Product.ProductionYear),GuaranteePeriodMonths:this.Product.GuaranteePeriodMonths,Characteristics:this.Product.Characteristics,MaintainContent:this.Product.MaintainContent,proType:1,KitFlag:!0,MinInventoryAlert:Number(this.Product.MinInventoryAlert),MaxInventoryAlert:Number(this.Product.MaxInventoryAlert),OptimalInventory:Number(this.Product.OptimalInventory),Unit:this.Product.Unit,UnitPrice:Number(this.Product.UnitPrice),AssemblyUnitPrice:Number(this.Product.AssemblyUnitPrice),BuyingUnitPrice:Number(this.Product.BuyingUnitPrice),BuyingCurrency:this.Product.BuyingCurrency,Barcode:this.Product.Barcode,BarcodeMemo:this.Product.BarcodeMemo,RepairCharge:Number(this.Product.RepairCharge),ReapirChargeEUR:Number(this.Product.ReapirChargeEUR),MaintainPrice:Number(this.Product.MaintainPrice),MaintainHours:Number(this.Product.MaintainHours),Manufacturer:this.Product.Manufacturer,Recovery:this.Product.Recovery,CountingUnit:this.Product.CountingUnit}};this.$https(e).then(function(e){0==e.Code&&(t.$emit("refresh"),t.$router.push({path:"/Machine_page"}))})}}}),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box_s"},[i("saxo-pop",{ref:"success",attrs:{type:"success",title:"添加工时"},on:{close:function(e){return t.$refs.success.start()}}},[i("div",{staticStyle:{padding:"5px","box-sizing":"border-box"}},[i("div",{staticClass:"success_li"},[i("span",[t._v("客户类型")]),t._v(" "),i("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",clearable:"",placeholder:"请选择客户类型"},model:{value:t.CusType,callback:function(e){t.CusType=e},expression:"CusType"}},t._l(t.Typeofcustomer,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.label}})}),1)],1),t._v(" "),i("div",{staticClass:"success_li"},[i("span",[t._v("保养工时")]),t._v(" "),i("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容",size:"mini",type:"number"},model:{value:t.MaintainHours,callback:function(e){t.MaintainHours=e},expression:"MaintainHours"}})],1),t._v(" "),i("div",{staticClass:"success_li"},[i("span",[t._v("保养单价")]),t._v(" "),i("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容",size:"mini",type:"number"},model:{value:t.MaintainPrice2,callback:function(e){t.MaintainPrice2=e},expression:"MaintainPrice2"}})],1),t._v(" "),i("div",{staticStyle:{width:"100%",height:"40px","line-height":"40px","margin-top":"10px"}},[i("saxo-button",{staticClass:"fr",staticStyle:{"margin-top":"5px","margin-right":"5px"},attrs:{mini:""},on:{click:function(e){return t.confirmationJJJ()}}},[t._v("确认")]),t._v(" "),i("saxo-button",{staticClass:"fr",staticStyle:{"margin-top":"5px","margin-right":"5px"},attrs:{mini:"",type:"info"},on:{click:function(e){return t.$refs.success.start()}}},[t._v("取消")])],1)])]),t._v(" "),i("div",{staticClass:"title"},[t._v("基础数据")]),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("产品编号:")]),t._v(" "),i("el-input",{attrs:{size:"mini"},model:{value:t.Product.ProductCode,callback:function(e){t.$set(t.Product,"ProductCode",e)},expression:"Product.ProductCode"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("内部编码:")]),t._v(" "),i("el-input",{attrs:{size:"mini"},model:{value:t.Product.BarcodeMemo,callback:function(e){t.$set(t.Product,"BarcodeMemo",e)},expression:"Product.BarcodeMemo"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("品牌:")]),t._v(" "),i("el-row",{staticClass:"demo-autocomplete"},[i("el-col",[i("el-autocomplete",{staticClass:"inline-input input",attrs:{size:"mini","fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{select:t.handleSelect,input:t.BuyingUnitPriceOnclick},model:{value:t.Product.Manufacturer,callback:function(e){t.$set(t.Product,"Manufacturer",e)},expression:"Product.Manufacturer"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("年份:")]),t._v(" "),i("el-input",{attrs:{size:"mini"},model:{value:t.Product.ProductionYear,callback:function(e){t.$set(t.Product,"ProductionYear",e)},expression:"Product.ProductionYear"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("保质期:")]),t._v(" "),i("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:t.Product.GuaranteePeriodMonths,callback:function(e){t.$set(t.Product,"GuaranteePeriodMonths",e)},expression:"Product.GuaranteePeriodMonths"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("库存量下限:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{type:"number",size:"mini"},model:{value:t.Product.MinInventoryAlert,callback:function(e){t.$set(t.Product,"MinInventoryAlert",e)},expression:"Product.MinInventoryAlert"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("库存量上限:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{type:"number",size:"mini"},model:{value:t.Product.MaxInventoryAlert,callback:function(e){t.$set(t.Product,"MaxInventoryAlert",e)},expression:"Product.MaxInventoryAlert"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("最佳库存量:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{type:"number",size:"mini"},model:{value:t.Product.OptimalInventory,callback:function(e){t.$set(t.Product,"OptimalInventory",e)},expression:"Product.OptimalInventory"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("单位:")]),t._v(" "),i("el-input",{attrs:{size:"mini"},model:{value:t.Product.Unit,callback:function(e){t.$set(t.Product,"Unit",e)},expression:"Product.Unit"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("计数系数(秒):")]),t._v(" "),i("el-input",{attrs:{size:"mini"},model:{value:t.Product.CountingUnit,callback:function(e){t.$set(t.Product,"CountingUnit",e)},expression:"Product.CountingUnit"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("是否回收:")]),t._v(" "),i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.Product.Recovery,callback:function(e){t.$set(t.Product,"Recovery",e)},expression:"Product.Recovery"}})],1),t._v(" "),i("div",{staticClass:"title"},[t._v("价格属性")]),t._v(" "),i("div",{staticClass:"Data_2"},[i("div",{staticClass:"demo2"},[i("div",{staticClass:"div_56789"},[t._v("采购单价:")]),t._v(" "),i("el-input",{staticClass:"input-with-select no-number",staticStyle:{width:"calc(100% - 120px)"},attrs:{placeholder:"请输入内容",size:"mini",type:"number"},on:{input:t.BuyingUnitPriceOnclick},model:{value:t.Product.BuyingUnitPrice,callback:function(e){t.$set(t.Product,"BuyingUnitPrice",e)},expression:"Product.BuyingUnitPrice"}},[i("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",size:"mini",placeholder:"请选择币种"},on:{change:t.BuyingUnitPriceOnclick},slot:"prepend",model:{value:t.Product.BuyingCurrency,callback:function(e){t.$set(t.Product,"BuyingCurrency",e)},expression:"Product.BuyingCurrency"}},[i("el-option",{attrs:{label:"RMB",value:"RMB"}}),t._v(" "),i("el-option",{attrs:{label:"EUR",value:"EUR"}}),t._v(" "),i("el-option",{attrs:{label:"GBP",value:"GBP"}})],1)],1),t._v(" "),i("div",{staticStyle:{width:"620px","min-height":"30px",float:"left","padding-left":"130px","box-sizing":"border-box"}},[i("el-collapse",[i("el-collapse-item",{attrs:{title:"采购单价 历史价格",name:"1"}},[i("el-table",{attrs:{data:t.Product.POHistoryPriceDtos,height:"200",size:"mini"}},[i("el-table-column",{attrs:{prop:"UnitPrice",label:"单价",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Currency",label:"单价币种",width:"70"}}),t._v(" "),i("el-table-column",{attrs:{label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                    "+t._s(e.row.CreateDate.split("T")[0])+"\n                                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"Creater",label:"更新人",width:"100"}})],1)],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"demo2"},[i("div",{staticClass:"div_56789"},[t._v("销售单价:")]),t._v(" "),i("el-input",{staticClass:"no-number",staticStyle:{width:"200px"},attrs:{type:"number",size:"mini"},model:{value:t.Product.UnitPrice,callback:function(e){t.$set(t.Product,"UnitPrice",e)},expression:"Product.UnitPrice"}}),t._v(" "),i("div",{staticStyle:{width:"620px","min-height":"30px",float:"left","padding-left":"130px","box-sizing":"border-box"}},[i("el-collapse",[i("el-collapse-item",{attrs:{title:"销售单价 历史价格",name:"1"}},[i("el-table",{attrs:{data:t.Product.SOHistoryPriceDtos,height:"200",size:"mini"}},[i("el-table-column",{attrs:{prop:"UnitPrice",label:"单价",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Currency",label:"单价币种",width:"70"}}),t._v(" "),i("el-table-column",{attrs:{label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                    "+t._s(e.row.CreateDate.split("T")[0])+"\n                                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"Creater",label:"更新人",width:"100"}})],1)],1)],1)],1)],1)]),t._v(" "),i("div",{staticClass:"Data_2"},[i("div",{staticClass:"demo"},[i("div",[t._v("维修费欧元价:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{type:"number",size:"mini"},on:{input:function(e){return t.BuyingUnitPrice()}},model:{value:t.Product.ReapirChargeEUR,callback:function(e){t.$set(t.Product,"ReapirChargeEUR",e)},expression:"Product.ReapirChargeEUR"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("维修费:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{type:"number",size:"mini"},model:{value:t.Product.RepairCharge,callback:function(e){t.$set(t.Product,"RepairCharge",e)},expression:"Product.RepairCharge"}})],1)]),t._v(" "),i("div",{staticClass:"Data_2"},[i("div",{staticClass:"demo"},[i("div",[t._v("安装工时:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{size:"mini",type:"number"},on:{input:function(e){return t.AssemblyUnitPriceTimeMN()}},model:{value:t.Product.AssemblyUnitPriceTime,callback:function(e){t.$set(t.Product,"AssemblyUnitPriceTime",e)},expression:"Product.AssemblyUnitPriceTime"}})],1),t._v(" "),i("div",{staticClass:"demo"},[i("div",[t._v("安装费:")]),t._v(" "),i("el-input",{staticClass:"no-number",attrs:{type:"number",size:"mini"},model:{value:t.Product.AssemblyUnitPrice,callback:function(e){t.$set(t.Product,"AssemblyUnitPrice",e)},expression:"Product.AssemblyUnitPrice"}})],1)]),t._v(" "),i("div",{staticClass:"title"},[t._v("保养工时\n        "),i("saxo-button",{staticClass:"fr",attrs:{mini:"",type:"success"},on:{click:function(e){return t.AddProductMCPrice()}}},[t._v("添加工时")])],1),t._v(" "),i("div",{staticStyle:{"padding-left":"50px","box-sizing":"border-box"}},[i("el-table",{staticStyle:{width:"500px"},attrs:{data:t.Product.MCPrices,"header-cell-style":t.$store.state.headerCellStyle,"cell-style":t.$store.state.cellStyle}},[i("el-table-column",{attrs:{prop:"CusType",label:"客户类型"}}),t._v(" "),i("el-table-column",{attrs:{prop:"MaintainHours",label:"工时"}}),t._v(" "),i("el-table-column",{attrs:{prop:"MaintainPrice",label:"单价"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.DelProductMCPrice(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),i("div",{staticClass:"title"},[t._v("描述，内容，备注")]),t._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"Memo"},[i("div",[t._v("产品描述：")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:t.Product.Characteristics,callback:function(e){t.$set(t.Product,"Characteristics",e)},expression:"Product.Characteristics"}})],1),t._v(" "),i("div",{staticClass:"Memo"},[i("div",[t._v("保养内容：")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:t.Product.MaintainContent,callback:function(e){t.$set(t.Product,"MaintainContent",e)},expression:"Product.MaintainContent"}})],1),t._v(" "),i("div",{staticClass:"Memo"},[i("div",[t._v("备注：")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:t.Product.Barcode,callback:function(e){t.$set(t.Product,"Barcode",e)},expression:"Product.Barcode"}})],1)]),t._v(" "),i("div",{staticClass:"title"},[t._v("耗材清单\n        "),i("saxo-button",{staticStyle:{float:"right"},attrs:{mini:"",type:"success"},on:{click:function(e){return t.openAddWindow()}}},[t._v("添加")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Product.SupplieDtos,"header-cell-style":t.$store.state.headerCellStyle,size:"mini"}},[i("el-table-column",{attrs:{prop:"ProductCode",label:"编码",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Quantity",label:"数量",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"ProductDesc",label:"描述","show-overflow-tooltip":!0}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("saxo-button",{attrs:{mini:"",type:"danger"},on:{click:function(i){return t.DeleProduct(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticClass:"title"},[t._v("图片\n        "),i("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.UpImg()}}},[t._v("上传")])],1),t._v(" "),t._l(t.Product.ProductPhotoDtos,function(e,a){return i("div",{key:a,staticClass:"img"},[i("el-image",{staticStyle:{width:"150px"},attrs:{"preview-src-list":["http://icms.inchwell.com.cn/File/product/"+e.File],src:"http://icms.inchwell.com.cn/File/product/"+e.File}}),t._v(" "),i("i",{staticClass:"el-icon-delete-solid iconimg",on:{click:function(i){return t.deleteImg(e.Id)}}})],1)}),t._v(" "),i("el-upload",{staticStyle:{float:"left"},attrs:{action:t.uploadFileUrlapp,data:{attachType:0},name:"appFile",limit:10,multiple:!0,accept:"image/*,video/*","before-upload":t.beforeuploadMainGraph,"on-success":t.handleSuccessMainGraph,"on-preview":t.handlePreviewMainGraph,"before-remove":t.beforeremoveMainGraph,"on-remove":t.handleRemoveMainGraph,"list-type":"picture-card","file-list":t.imageUrlList}},[i("i",{staticClass:"el-icon-plus spc1"})]),t._v(" "),i("saxo-pop",{ref:"primary",attrs:{width:"600px",title:"查看图片"},on:{close:function(e){return t.$refs.primary.start()}}},[i("img",{attrs:{width:"100%",src:t.imageUrl.url,alt:""}})]),t._v(" "),i("div",{staticClass:"true"},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.add()}}},[t._v("保存")])],1),t._v(" "),i("SaxoDrawer",{attrs:{show:t.SaxoDrawer,title:"添加耗材"},on:{ShowFalse:function(e){t.SaxoDrawer=!1}}},[i("div",{staticClass:"DeawerBox"},[i("div",{staticClass:"DeawerBox_CON"},[i("div",{staticClass:"DrawerSearch"},[i("div",{staticClass:"DrawerSearchLeft"},[i("div",{staticClass:"department"},[i("span",[t._v("产品编码")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入产品编码",size:"mini"},model:{value:t.consumablesSearchItem.productCode,callback:function(e){t.$set(t.consumablesSearchItem,"productCode",e)},expression:"consumablesSearchItem.productCode"}})],1),t._v(" "),i("div",{staticClass:"department"},[i("span",[t._v("内部编码")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入内部编码",size:"mini"},model:{value:t.consumablesSearchItem.barcodeMemo,callback:function(e){t.$set(t.consumablesSearchItem,"barcodeMemo",e)},expression:"consumablesSearchItem.barcodeMemo"}})],1),t._v(" "),i("div",{staticClass:"department"},[i("span",[t._v("产品描述")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入产品描述",size:"mini"},model:{value:t.consumablesSearchItem.desc,callback:function(e){t.$set(t.consumablesSearchItem,"desc",e)},expression:"consumablesSearchItem.desc"}})],1),t._v(" "),i("div",{staticClass:"department"},[i("span",[t._v("产品备注")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入产品备注",size:"mini"},model:{value:t.consumablesSearchItem.memo,callback:function(e){t.$set(t.consumablesSearchItem,"memo",e)},expression:"consumablesSearchItem.memo"}})],1),t._v(" "),i("div",{staticClass:"department"},[i("span",[t._v("品牌")]),t._v(" "),i("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"mini",clearable:""},model:{value:t.consumablesSearchItem.man,callback:function(e){t.$set(t.consumablesSearchItem,"man",e)},expression:"consumablesSearchItem.man"}},t._l(t.$store.state.Vuex.Brand,function(t,e){return i("el-option",{key:e,attrs:{label:t.Value,value:t.Value}})}),1)],1)]),t._v(" "),i("div",{staticClass:"DrawerSearchRight"},[i("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(e){return t.openAddWindow()}}},[t._v("搜索")])],1)]),t._v(" "),i("div",{staticClass:"DrawerContent",staticStyle:{height:"calc(100% - 80px)"}},[i("el-table",{ref:"SaxoDrawer",staticStyle:{width:"100%"},attrs:{data:t.HCtableList,height:"100%",size:"mini"},on:{"row-contextmenu":t.cellClick}},[i("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170"}}),t._v(" "),i("el-table-column",{attrs:{prop:"BarcodeMemo",label:"内部编码",width:"140"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Manufacturer",label:"品牌",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Characteristics",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),i("el-table-column",{attrs:{prop:"Unit",label:"单位",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"UpdateDate",label:"更新时间",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"数量",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{attrs:{id:"Number_input"}},[i("div",{staticClass:"div_icon_text",on:{click:function(i){return t.UpdateMSOEquPrice(e.row,"Del")}}},[i("i",{staticClass:"el-icon-minus"})]),t._v(" "),i("div",{staticClass:"div_icon_textConter"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.row.Quantity,expression:"scope.row.Quantity"}],staticStyle:{"text-align":"center","border-style":"none",outline:"none",width:"100%"},attrs:{type:"text",name:"",id:""},domProps:{value:e.row.Quantity},on:{blur:function(i){return t.UpdateMSOEquPrice(e.row,"saxo",e.row.Quantity)},input:function(i){i.target.composing||t.$set(e.row,"Quantity",i.target.value)}}})]),t._v(" "),i("div",{staticClass:"div_icon_text",on:{click:function(i){return t.UpdateMSOEquPrice(e.row,"Add")}}},[i("i",{staticClass:"el-icon-plus"})])])]}}])}),t._v(" "),i("el-table-column",{attrs:{type:"selection",width:"55",fixed:"right"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(i){return t.addTo(e.row)}}},[t._v("添加")])]}}])})],1)],1)]),t._v(" "),i("div",{staticClass:"but"},[i("SaxoFenYe",{ref:"SaxoFenYe",attrs:{total:t.HCtableListDataBars},on:{func:t.func2}}),t._v(" "),i("saxo-button",{staticClass:"butState",attrs:{mini:"",type:"primary"},on:{click:t.addSelected}},[t._v("添加已选择")])],1)])])],2)},staticRenderFns:[]};var o=i("VU/8")(s,n,!1,function(t){i("Bj3o")},"data-v-1559f48f",null);e.default=o.exports}});