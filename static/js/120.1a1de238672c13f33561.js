webpackJsonp([120],{"0q2q":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("t4zo"),i=a.n(l),r=a("uXZL"),n=a.n(r),o={data:function(){return{Data:[],search:"",types:[{label:"全部",value:"-1",index:1},{label:"未启动",value:"0",index:2},{label:"已启动",value:"1",index:3},{label:"已完成",value:"2",index:4}],type:"0",area:"",areaS:[]}},created:function(){this.init(),this.initGetArea()},methods:{init:function(){var t=this;"全部"!=this.area&&""!=this.area||(this.area="");var e={search:this.search,area:this.area,state:this.type};this.API_GET("Statistic/GetMCDelay",e).then(function(e){t.Data=e.Dtos,console.log(t.Data);for(var a=0;a<t.Data.length;a++)t.Data[a].EstimateDate=t.Data[a].EstimateDate.split("T")[0],null===t.Data[a].ActualDate?t.Data[a].ActualDateTime="- - ":t.Data[a].ActualDateTime=t.Data[a].ActualDate.split("T")[0],null===t.Data[a].OrderOverTime?t.Data[a].OrderOverTimeSTR="- - ":t.Data[a].OrderOverTimeSTR=t.Data[a].OrderOverTime.split("T")[0]})},initGetArea:function(){var t=this;this.API_GET("System/GetArea").then(function(e){t.areaS=e})},tableRowClassName:function(t){var e=t.row;if(null==e.ActualDate){if(e.Overtime<=7)return"color568248533242";if(e.Overtime>7&&e.Overtime<=14)return"code2345u56584784";if(e.Overtime>14)return"code345678998765"}return""},exportExcel:function(){var t=n.a.utils.table_to_book(document.querySelector("#out-table"),{raw:!0}),e=n.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{i.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"保养延迟.xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,e)}return e}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("p",{staticClass:"p92387623635457"},[t._v("\n        判断逻辑：启动日期 晚于 预计日期 | 数据总数： "),a("span",[t._v(t._s(this.Data.length))])]),t._v(" "),a("p",{staticClass:"p92387623635457"},[t._v("\n        无启动日期表示保养任务还未启动，需要区域经理根据实际情况启动任务\n        有启动日期但无完成日期表示任务已启动，但还未完成\n    ")]),t._v(" "),a("div",{staticClass:"TopSerch"},[a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入内容",clearable:""},on:{change:function(e){return t.init()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"请选择类型"},on:{change:function(e){return t.init()}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.types,function(t){return a("el-option",{key:t.index,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",clearable:"",placeholder:"请选择区域"},on:{change:function(e){return t.init()}},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},t._l(t.areaS,function(t){return a("el-option",{key:t.Value,attrs:{label:t.Value,value:t.Value}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",loading:this.$store.state.Vuex.loading,size:"mini"},on:{click:function(e){return t.init()}}},[t._v("检索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"info",size:"mini"},on:{click:t.exportExcel}},[t._v("导出Excel")])],1),t._v(" "),a("div",{staticClass:"content",staticStyle:{padding:"0px 25px","box-sizing":"border"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Data,size:"mini",height:this.$store.state.TableOptimumHeight,"highlight-current-row":"",border:"","row-class-name":t.tableRowClassName,"header-cell-style":{background:"#e1e1e1"},id:"out-table"}},[a("el-table-column",{attrs:{prop:"Area",label:"区域",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CustomerFullName","show-overflow-tooltip":!0,label:"客户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"TaskCode",label:"任务编号",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ContractCode",label:"合同编码",width:"250"}}),t._v(" "),a("el-table-column",{attrs:{prop:"EstimateDate",label:"预估时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ActualDateTime",label:"启动日期",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"OrderOverTimeSTR",label:"完成时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Overtime",label:"超时天数",width:"80"}})],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(o,s,!1,function(t){a("k8H2")},null,null);e.default=c.exports},k8H2:function(t,e){}});