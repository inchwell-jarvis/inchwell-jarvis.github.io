webpackJsonp([72],{lcSf:function(t,e){},w7ig:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),l=a.n(n),r={data:function(){return{options:[{label:"全部",value:-1},{label:"公共模板",value:1},{label:"售后服务部文档",value:2},{label:"培训部文档",value:3},{label:"其它",value:4}],Data:[],total:0,retrieval:{search:"",type:-1,pageNum:1,numPerPage:this.$store.state.NewDisplayNumber,orderField:"",orderDirection:""}}},computed:{retrievalJT:function(){return l()(this.retrieval)}},watch:{retrievalJT:function(t,e){this.WatchFenYe(t,e)?this.$refs.SaxoFenYe.ReviseConNumber1():this.start()}},methods:{start:function(){var t=this;this.API_GET("System/GetDocuments",this.retrieval).then(function(e){t.Data=e.Dtos,t.total=e.DataBars;for(var a=0;a<t.Data.length;a++){var n=t.Data[a];1==n.Type&&(n.Type="公共模板"),2==n.Type&&(n.Type="售后服务部文档"),3==n.Type&&(n.Type="培训部文档"),4==n.Type&&(n.Type="其它")}console.log(t.Data)})},func:function(t,e){this.retrieval.pagesize=t,this.retrieval.pageNum=e,this.start()},lookPDF:function(t){console.log(t),""!=t.Key?window.open("http://icms.inchwell.com.cn/File/Document/"+t.Url):this.$message.warning("您还没有添加文件")},Download:function(t){var e="http://icms.inchwell.com.cn/File/Document/"+t.Url,a=document.createElement("a");fetch(e).then(function(t){return t.blob()}).then(function(t){a.href=URL.createObjectURL(t),console.log(a.href),a.download=name,document.body.appendChild(a),a.click()})}},created:function(){this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:t.start}}),t._v(" "),a("div",{staticClass:"retrieve"},[a("div",{staticClass:"leftSpan"},[t._v("\n            "+t._s(t.$route.meta.title)+"\n        ")]),t._v(" "),a("div",{staticClass:"ConView"},[a("div",{staticClass:"department"},[a("span",[t._v("文件名")]),t._v(" "),a("el-input",{attrs:{placeholder:"文件名",size:"mini"},model:{value:t.retrieval.search,callback:function(e){t.$set(t.retrieval,"search",e)},expression:"retrieval.search"}})],1),t._v(" "),a("div",{staticClass:"department"},[a("span",[t._v("文件类型")]),t._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"文件类型"},on:{change:function(e){return t.start(1)}},model:{value:t.retrieval.type,callback:function(e){t.$set(t.retrieval,"type",e)},expression:"retrieval.type"}},t._l(t.options,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"primary"},on:{click:function(e){return t.start()}}},[t._v("搜 索")])],1),t._v(" "),a("div",{staticClass:"content2"},[a("el-table",{attrs:{data:t.Data,"header-cell-style":t.$store.state.headerCellStyle,"cell-style":t.$store.state.cellStyle}},[a("el-table-column",{attrs:{prop:"Name",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Type",label:"文件分类",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Download",label:"下载次数",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Creater",label:"创建者",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("nav",{staticStyle:{"text-align":"center"}},[a("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(a){return t.Download(e.row)}}},[t._v("下载")]),t._v(" "),a("saxo-button",{attrs:{mini:"",type:"info"},on:{click:function(a){return t.lookPDF(e.row)}}},[t._v("查看")])],1)]}}])})],1)],1),t._v(" "),a("SaxoFenYe",{ref:"SaxoFenYe",attrs:{total:t.total},on:{func:t.func}})],1)},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(t){a("lcSf")},"data-v-7c2e825d",null);e.default=i.exports}});