webpackJsonp([9],{WzZb:function(t,e){},m4t2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{Id:"",EquDtos:[],returnEquipment:[],buyEquipment:[],textarea:"",Data:{}}},created:function(){var t=this;console.log(this.$route.query),this.Id=this.$route.query.ID,console.log(this.$route.query),this.start(),this.EquDtos.forEach(function(e){t.$set(e,"Quantity2",e.Quantity)})},mounted:function(){},computed:{totalReturnEquipmentValue:function(){return this.returnEquipment.reduce(function(t,e){return t+e.Quantity2*e.UnitPrice},0).toFixed(2)},totalBuyEquipmentValue:function(){return this.buyEquipment.reduce(function(t,e){return t+e.Quantity*e.UnitPrice},0).toFixed(2)}},watch:{},methods:{start:function(){var t=this;this.API_GET("MachineSO/GetMpoEquChanges",{forTo:"",Id:this.Id,state:1}).then(function(e){t.Data=e.Dtos[0],console.log(t.Data),t.textarea=t.Data.SystemInfo,t.Data.DetailDtos.forEach(function(e){1==e.NewOrOri?t.returnEquipment.push(e):t.buyEquipment.push(e)})})},MsoEquChangeApprove:function(t){var e=this;this.API_POST("MachineSO/MpoEquChangeApprove",{id:this.Data.ID,type:t}).then(function(t){e.$router.push({path:"Home"}),e.$message.success("审批成功！")})}},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("SaxoPage",{scopedSlots:t._u([{key:"title",fn:function(){return[n("saxo-button",{attrs:{mini:""},on:{click:function(e){return t.MsoEquChangeApprove(1)}}},[t._v("批准")]),t._v(" "),n("saxo-button",{attrs:{mini:"",type:"danger"},on:{click:function(e){return t.MsoEquChangeApprove(2)}}},[t._v("驳回")])]},proxy:!0},{key:"content",fn:function(){return[n("h3",[t._v("基础数据")]),t._v(" "),n("el-descriptions",{attrs:{border:"",size:"mini"}},[n("el-descriptions-item",{attrs:{label:"创建人"}},[t._v(" "+t._s(t.Data.Creater))]),t._v(" "),t.Data.CreateDate?n("el-descriptions-item",{attrs:{label:"创建时间"}},[t._v(" "+t._s(t.Data.CreateDate.split("T")[0]))]):t._e(),t._v(" "),n("el-descriptions-item",{attrs:{label:"客户名称"}},[t._v(" "+t._s(t.Data.CusFullName))])],1),t._v(" "),n("h3",[t._v("退回设备")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.returnEquipment,stripe:"","header-cell-style":t.$store.state.headerCellStyle,size:"mini"}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"60"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ProCode",label:"产品编号",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{label:"对外编码",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",{domProps:{innerHTML:t._s(e.row.ProLongCode)}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Brand",label:"品牌",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Desc",label:"描述","show-overflow-tooltip":!0}}),t._v(" "),n("el-table-column",{attrs:{label:"采购单价","header-align":"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{float:"right"}},[t._v(" "+t._s(t.FinancialAmountFormat(e.row.DiscountPrice,t.FinancialAmountSymbol(e.row.BuyingCurrency))))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"数量","header-align":"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.Quantity)+"\n                ")]}}])})],1),t._v(" "),n("h3",[t._v("换新设备")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.buyEquipment,stripe:"","header-cell-style":t.$store.state.headerCellStyle,size:"mini"}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"60"}}),t._v(" "),n("el-table-column",{attrs:{prop:"ProCode",label:"产品编号",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{label:"对外编码",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",{domProps:{innerHTML:t._s(e.row.ProLongCode)}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Brand",label:"品牌",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Desc",label:"描述","show-overflow-tooltip":!0}}),t._v(" "),n("el-table-column",{attrs:{label:"采购单价","header-align":"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{float:"right"}},[t._v(" "+t._s(t.FinancialAmountFormat(e.row.DiscountPrice,t.FinancialAmountSymbol(e.row.BuyingCurrency))))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"数量","header-align":"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.Quantity)+"\n                ")]}}])})],1),t._v(" "),n("h3",[t._v("备注")]),t._v(" "),n("p",[t._v("\n            "+t._s(t.textarea||"无")+"\n        ")])]},proxy:!0}])})},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(t){n("WzZb")},"data-v-ef46be24",null);e.default=r.exports}});