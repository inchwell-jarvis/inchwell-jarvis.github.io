webpackJsonp([135],{I388:function(t,e){},RdPY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Dd8w"),a=n.n(i),o={data:function(){return{Data:[],imgSrc:{},imgInfo:{},ClickId:""}},created:function(){this.start()},methods:{start:function(){var t=this;this.API_GET("System/GetServiceManage").then(function(e){console.log(e[0]),t.AddId=e[0].Id,t.Data=e[0].TrainingCaseTwo.map(function(t){return a()({},t,{children:t.TrainingCaseThree})})})},append:function(t){var e=this;this.$prompt("请输入标题","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(n){var i=n.value,a={id:t.Id,name:i,Grade:3};e.API_POST("System/AddMenuNode",a).then(function(t){e.start()})}).catch(function(){e.$message.info("取消添加")})},remove:function(t){var e=this;this.API_POST("System/DelMenuNode",{id:t.Id}).then(function(t){e.start()})},lookPDF:function(t){""!=t.Key?window.open(t.Key):this.$message.warning("您还没有添加文件")},getFileTi:function(t){console.log(t),this.ClickId=t},getFile:function(t){var e=t.target.files[0],n=this;if(e){var i=new FileReader;i.readAsDataURL(e),i.onload=function(t){var e=this.result;console.log(e);var i={id:n.ClickId,Str:e};this.API_POST("System/UploadFileToMenuNode",i).then(function(t){n.start(),n.$message.success("上传成功，双击查看")})}}},CreateInstitutionalProcess:function(){var t=this;this.$prompt("请输入标题","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var n=e.value,i={id:t.AddId,name:n,Grade:2};t.API_POST("System/AddMenuNode",i).then(function(e){t.start()})}).catch(function(){t.$message.info("取消添加")})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"retrieve"},[n("div",{staticClass:"leftSpan"},[t._v("\n            "+t._s(t.$route.meta.title)+"\n        ")]),t._v(" "),n("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"success"},on:{click:function(e){return t.CreateInstitutionalProcess()}}},[t._v("创 建")])],1),t._v(" "),n("div",{staticClass:"content2",staticStyle:{overflow:"auto"}},[n("el-tree",{attrs:{data:t.Data,"node-key":"id","default-expand-all":"","expand-on-click-node":!0},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return n("span",{staticClass:"custom-tree-node",on:{dblclick:function(e){!i.children&&t.lookPDF(i)}}},[n("span",[t._v(t._s(i.Value))]),t._v(" "),n("span",[i.children?n("el-button",{staticStyle:{color:"#67c23a"},attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.append(i)}}},[t._v("+ 添加")]):t._e(),t._v(" "),n("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.remove(i)}}},[t._v("- 删除")]),t._v(" "),i.children?t._e():n("el-button",{attrs:{type:"text",size:"mini"}},[n("label",{attrs:{for:"int"},on:{click:function(e){return t.getFileTi(i.Id)}}},[t._v("↑ 上传")]),t._v(" "),n("input",{ref:"clearFile",staticStyle:{"margin-left":"70px",display:"none"},attrs:{id:"int",type:"file",accept:".pdf"},on:{change:function(e){return t.getFile(e)}}})])],1)])}}])})],1)])},staticRenderFns:[]};var c=n("VU/8")(o,s,!1,function(t){n("I388")},null,null);e.default=c.exports}});