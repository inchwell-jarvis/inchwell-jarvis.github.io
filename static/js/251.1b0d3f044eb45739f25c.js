webpackJsonp([251],{"49nW":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("t4zo"),i=l.n(a),s=l("uXZL"),o=l.n(s),n={data:function(){return{loading:!1,value:"",Data:[],valueOne:"",valueTwo:"",valueThree:"",DtoOne:[],DtoTwo:[],DtoThree:[],dialogVisible:!1,valueOnes:"",valueTwos:"",valueThrees:"",ProeuctCodeINput:"",butling:!1,Search:""}},created:function(){this.init(),this.initeacth()},methods:{init:function(){var e=this,t={api:"get",url:this.$store.state.http+"Product/GetEquType",data:{one:this.valueOne,two:this.valueTwo,three:this.valueThree}};this.$https(t).then(function(t){if(console.log(t.Data.Dtos),""==e.Search)e.Data=t.Data.Dtos;else{for(var l=t.Data.Dtos,a=[],i=0;i<l.length;i++){var s=l[i];for(var o in s)if(-1!=s[o].indexOf(e.Search)){a.push(s);break}}e.Data=a}})},initeacth:function(){var e=this,t={api:"get",url:this.$store.state.http+"Product/GetProductType12"};this.$https(t).then(function(t){console.log(t),e.DtoOne=t.Data.DtoOne,e.DtoTwo=t.Data.DtoTwo,e.DtoThree=t.Data.DtoThree})},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(l){e(),t.deletes()}).catch(function(e){})},Add:function(){var e=this;if(console.log(this.valueOnes),""==this.valueOnes)return this.$message.warning("请选择供应商！"),!1;if(""==this.valueTwos)return this.$message.warning("请选择类型！"),!1;if(""==this.valueThrees)return this.$message.warning("请选择品牌！"),!1;if(""==this.ProeuctCodeINput)return this.$message.warning("请输入产品编码！"),!1;this.butling=!1;var t={api:"post",url:this.$store.state.http+"Product/AddEquType",data:{one:this.valueOnes,two:this.valueTwos,three:this.valueThrees,ProeuctCode:this.ProeuctCodeINput}};this.$https(t).then(function(t){e.butling=!0,e.deletes(),e.$message.success("添加成功！")})},deletes:function(){this.dialogVisible=!1,this.valueOnes="",this.valueTwos="",this.valueThrees="",this.ProeuctCodeINput="",this.$refs.success.start()},exportExcel:function(){var e=o.a.utils.table_to_book(document.querySelector("#out-table"),{raw:!0}),t=o.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{i.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"设备分类.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"box"},[l("div",{staticClass:"TopSerch"},[l("el-select",{attrs:{clearable:"",size:"mini",filterable:"",placeholder:"请选择供应商"},on:{change:e.init},model:{value:e.valueOne,callback:function(t){e.valueOne=t},expression:"valueOne"}},e._l(e.DtoOne,function(e){return l("el-option",{key:e.Id,attrs:{label:e.label,value:e.Value}})}),1),e._v(" "),l("el-select",{attrs:{clearable:"",size:"mini",filterable:"",placeholder:"请选择类型"},on:{change:e.init},model:{value:e.valueTwo,callback:function(t){e.valueTwo=t},expression:"valueTwo"}},e._l(e.DtoTwo,function(e){return l("el-option",{key:e.Id,attrs:{label:e.label,value:e.Value}})}),1),e._v(" "),l("el-select",{attrs:{clearable:"",size:"mini",filterable:"",placeholder:"请选择品牌"},on:{change:e.init},model:{value:e.valueThree,callback:function(t){e.valueThree=t},expression:"valueThree"}},e._l(e.DtoThree,function(e){return l("el-option",{key:e.Id,attrs:{label:e.label,value:e.Value}})}),1),e._v(" "),l("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"检索项 ",clearable:""},on:{change:e.init},model:{value:e.Search,callback:function(t){e.Search=t},expression:"Search"}}),e._v(" "),l("el-button",{attrs:{type:"primary",size:"mini",loading:this.$store.state.Vuex.loading},on:{click:e.init}},[e._v("检索")]),e._v(" "),l("el-button",{staticStyle:{float:"right"},attrs:{type:"info",size:"mini"},on:{click:e.exportExcel}},[e._v("导出Excel")]),e._v(" "),l("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"mini"},on:{click:function(t){return e.$refs.success.start()}}},[e._v("添加")])],1),e._v(" "),l("div",{staticClass:"content",staticStyle:{padding:"0px 25px","box-sizing":"border"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{id:"out-table",data:e.Data,height:this.$store.state.TableOptimumHeight,size:"mini","highlight-current-row":"",border:"","header-cell-style":e.$store.state.headerCellStyle}},[l("el-table-column",{attrs:{prop:"One",label:"第一级",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{prop:"Two",label:"第二级",width:"140"}}),e._v(" "),l("el-table-column",{attrs:{prop:"Three",label:"第三级",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ProeuctCode",label:"产品编码",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{prop:"Brand",label:"品牌",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"Desc",label:"产品描述","show-overflow-tooltip":!0}})],1)],1),e._v(" "),l("saxo-pop",{ref:"success",attrs:{type:"success",title:"添加",width:"500px"},on:{close:function(t){return e.$refs.success.start()}}},[l("div",{staticStyle:{width:"100%",margin:"10px 0"}},[l("div",{staticStyle:{width:"130px",float:"left",lineHeight:"24px"}},[e._v("请选择供应商:")]),e._v(" "),l("el-select",{attrs:{clearable:"",size:"mini",filterable:"",placeholder:"请选择供应商"},model:{value:e.valueOnes,callback:function(t){e.valueOnes=t},expression:"valueOnes"}},e._l(e.DtoOne,function(e){return l("el-option",{key:e.Id,attrs:{label:e.Value,value:e.Id}})}),1)],1),e._v(" "),l("div",{staticStyle:{width:"100%",margin:"10px 0"}},[l("div",{staticStyle:{width:"130px",float:"left",lineHeight:"24px"}},[e._v("请选择类型:")]),e._v(" "),l("el-select",{attrs:{clearable:"",size:"mini",filterable:"",placeholder:"请选择类型"},model:{value:e.valueTwos,callback:function(t){e.valueTwos=t},expression:"valueTwos"}},e._l(e.DtoTwo,function(e){return l("el-option",{key:e.Id,attrs:{label:e.Value,value:e.Id}})}),1)],1),e._v(" "),l("div",{staticStyle:{width:"100%",margin:"10px 0"}},[l("div",{staticStyle:{width:"130px",float:"left",lineHeight:"24px"}},[e._v("请选择品牌:")]),e._v(" "),l("el-select",{attrs:{clearable:"",size:"mini",filterable:"",placeholder:"请选择品牌"},model:{value:e.valueThrees,callback:function(t){e.valueThrees=t},expression:"valueThrees"}},e._l(e.DtoThree,function(e){return l("el-option",{key:e.Id,attrs:{label:e.Value,value:e.Id}})}),1)],1),e._v(" "),l("div",{staticStyle:{width:"100%",margin:"10px 0"}},[l("div",{staticStyle:{width:"130px",float:"left",lineHeight:"24px"}},[e._v("请输入产品编码:")]),e._v(" "),l("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",clearable:"",placeholder:"请输入产品编码"},model:{value:e.ProeuctCodeINput,callback:function(t){e.ProeuctCodeINput=t},expression:"ProeuctCodeINput"}})],1),e._v(" "),l("div",{staticStyle:{width:"100%","text-align":"right"}},[l("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.deletes()}}},[e._v("取 消")]),e._v(" "),l("saxo-button",{attrs:{mini:"",type:"success"},on:{click:function(t){return e.Add()}}},[e._v("确\n                定")])],1)])],1)},staticRenderFns:[]},c=l("VU/8")(n,r,!1,null,null,null);t.default=c.exports}});