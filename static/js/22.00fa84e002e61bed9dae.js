webpackJsonp([22],{FMFy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("//Fk"),i=a.n(n),s=a("qy1k"),o={data:function(){return{day:"",Data:[],amount:0,drawer:!1,checkObject:{}}},created:function(){this.day=this.GetDate(),this.GET_BMW_SALES_STAFF_ACCOUNT()},mounted:function(){},computed:{},watch:{},methods:{GET_BMW_SALES_STAFF_ACCOUNT:function(){var t=this;this.API_GET("System/GetEmployeeMini",{type:10,IsEnable:-1}).then(function(e){t.amount=0;var a=e.map(function(e){return t.StatMSODSMonth(t.day,e.UserName)});i.a.all(a).then(function(e){t.Data=e,console.log(e)})})},StatMSODSMonth:function(t,e){var a=this;return new i.a(function(n,i){a.API_GET("MachineSO/StatMSODSMonth",{day:t,username:e}).then(function(t){t.amount=0;for(var e=0;e<t.Dtos.length;e++){var i=t.Dtos[e];t.amount+=Number(i.ValidAmount)}a.amount=s.a.plus(a.amount,t.amount),n(t)})})},Check:function(t){console.log(t),this.checkObject=t,this.drawer=!0}},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"retrieve"},[a("div",{staticClass:"leftSpan"},[t._v("\n            "+t._s(t.$route.meta.title)+"\n        ")]),t._v(" "),a("div",{staticClass:"ConView"},[a("div",{staticClass:"department"},[a("span",[t._v("日期")]),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},on:{change:function(e){return t.GET_BMW_SALES_STAFF_ACCOUNT()}},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1)])]),t._v(" "),a("div",{staticClass:"content2"},[a("div",{staticClass:"table"},[t._m(0),t._v(" "),t._l(t.Data,function(e,n){return a("div",{key:n,staticStyle:{float:"left"}},[a("div",{staticClass:"name"},[a("div",{staticClass:"name_li"},[t._v(t._s(e.Name))]),t._v(" "),a("div",{staticClass:"name_li bold textRight"},[t._v(t._s(t.FinancialAmountFormat(e.TargetSales)))]),t._v(" "),a("div",{staticClass:"name_li bold textRight"},[t._v(t._s(t.FinancialAmountFormat(e.amount)))]),t._v(" "),a("div",{staticClass:"name_li bold textRight"},[t._v(t._s(e.CompletionRatio))]),t._v(" "),t._l(e.Dtos,function(e,n){return a("div",{key:n,staticClass:"name_li pointer textRight",on:{click:function(a){return t.Check(e)}}},[t._v(t._s(t.FinancialAmountFormat(e.ValidAmount)))])})],2),t._v(" "),a("div",{staticClass:"name"},[a("div",{staticClass:"name_li"}),t._v(" "),a("div",{staticClass:"name_li pl15"},[t._v("折扣")]),t._v(" "),a("div",{staticClass:"name_li"}),t._v(" "),a("div",{staticClass:"name_li"}),t._v(" "),t._l(e.Dtos,function(e,n){return a("div",{key:n,staticClass:"name_li pl15"},[t._v(t._s(e.Discount.toFixed(2)))])})],2)])}),t._v(" "),a("div",{staticClass:"name"},[a("div",{staticClass:"name_li"}),t._v(" "),a("div",{staticClass:"name_li bold"},[t._v("本月合计")]),t._v(" "),a("div",{staticClass:"name_li bold"},[t._v(t._s(t.FinancialAmountFormat(t.amount)))])])],2),t._v(" "),a("el-drawer",{attrs:{visible:t.drawer,direction:"rtl","append-to-body":!0,"with-header":!1},on:{"update:visible":function(e){t.drawer=e}}},[a("div",{staticClass:"drawer_box"},[a("div",{staticClass:"head"},[a("h3",[t._v(t._s(t.checkObject.CusFullName))]),t._v(" "),a("p",{staticClass:"ContractCode"},[t._v(t._s(t.checkObject.ContractCode)+" "),t.checkObject.PrizeWinners?a("span",{staticStyle:{color:"#303133"}},[t._v(t._s("【"+t.checkObject.PrizeWinners.split(":")[0]+"】"))]):t._e()]),t._v(" "),a("p",{staticClass:"Discount_ValidAmount"},[t._v("折扣 "),a("span",[t._v(t._s(t.checkObject.Discount))]),t._v("  金额 "),a("span",[t._v(t._s(t.FinancialAmountFormat(t.checkObject.ValidAmount)))])])]),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.checkObject.SOEqus,"header-cell-style":t.$store.state.headerCellStyle,"cell-style":t.$store.state.cellStyle,stripe:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"Describe",label:"描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Quantity",label:"数量",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DiscountPrice",label:"价格",width:"100"}})],1)],1)])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"name"},[e("div",{staticClass:"name_li"},[this._v("姓名")]),this._v(" "),e("div",{staticClass:"name_li"},[this._v("任务")]),this._v(" "),e("div",{staticClass:"name_li"},[this._v("已完成")]),this._v(" "),e("div",{staticClass:"name_li"},[this._v("完成比")])])}]};var c=a("VU/8")(o,r,!1,function(t){a("kCWg")},"data-v-ae01414c",null);e.default=c.exports},kCWg:function(t,e){},qy1k:function(t,e,a){"use strict";function n(t,e){return void 0===e&&(e=15),+parseFloat(Number(t).toPrecision(e))}function i(t){var e=t.toString().split(/[eE]/),a=(e[0].split(".")[1]||"").length-+(e[1]||0);return a>0?a:0}function s(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));var e=i(t);return e>0?n(Number(t)*Math.pow(10,e)):Number(t)}function o(t){_&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function r(t){return function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var n=e[0];return e.slice(1).reduce(function(e,a){return t(e,a)},n)}}var c=r(function(t,e){var a=s(t),n=s(e),r=i(t)+i(e),c=a*n;return o(c),c/Math.pow(10,r)}),l=r(function(t,e){var a=Math.pow(10,Math.max(i(t),i(e)));return(c(t,a)+c(e,a))/a}),u=r(function(t,e){var a=Math.pow(10,Math.max(i(t),i(e)));return(c(t,a)-c(e,a))/a}),v=r(function(t,e){var a=s(t),r=s(e);return o(a),o(r),c(a/r,n(Math.pow(10,i(e)-i(t))))});var _=!0;var d={strip:n,plus:l,minus:u,times:c,divide:v,round:function(t,e){var a=Math.pow(10,e),n=v(Math.round(Math.abs(c(t,a))),a);return t<0&&0!==n&&(n=c(n,-1)),n},digitLength:i,float2Fixed:s,enableBoundaryChecking:function(t){void 0===t&&(t=!0),_=t}};e.a=d}});