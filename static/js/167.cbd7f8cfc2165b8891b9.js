webpackJsonp([167],{l3E0:function(t,e){},y2F7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{search:"",belong:-1,state:-1,pageNum:1,pagesize:10,Data:[],total:0,options:[{label:"全部",value:-1,index:1},{label:"培训室",value:"2",index:2},{label:"客服部",value:"1",index:3}],StateS:[{label:"全部",value:-1,index:1},{label:"在库",value:"1",index:2},{label:"申请物流",value:"2",index:3},{label:"已借出",value:"3",index:4},{label:"已报废",value:"9",index:5}]}},computed:{},watch:{},methods:{BJApplicationForLoan:function(t){console.log(t),this.$store.state.GDProIdData=t,this.$router.push({path:"BJAppSpare"})},init:function(t){var e=this;void 0==t&&null==t||(this.pageNum=1);var a={api:"get",url:this.$store.state.http+"StorageRoom/GetStandbys",data:{pageNum:this.pageNum,numPerPage:this.pagesize,orderField:"",orderDirection:"",search:this.search,belong:this.belong,state:this.state}};this.$https(a).then(function(t){e.Data=t.Data.Dtos,console.log(e.Data),e.total=t.Data.DataBars;for(var a=0;a<e.Data.length;a++){var n=e.Data[a];n.CreateDate=n.CreateDate.split("T")[0],n.Belong=1==n.Belong?"客服部":2==n.Belong?"培训室":"未知"}})},func:function(t,e){this.pagesize=t,this.pageNum=e,this.init()},ApplicationForLoan:function(t){console.log(t),this.$store.state.Vuex.AddSpareParts=t,this.$router.push({path:"AddSpareParts"})},DelStandby:function(t){var e=this;console.log(t.Id),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={api:"post",url:e.$store.state.http+"StorageRoom/DelStandby",data:{Id:t.Id}};e.$https(a).then(function(t){e.$message({type:"success",message:"报废成功!"}),e.init()})}).catch(function(){e.$message({type:"info",message:"已取消报废"})})},AddStandby:function(){this.$router.push({path:"AddSpare"})}},created:function(){this.pagesize=this.$store.state.DisplayNumber,this.init()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:t.init}}),t._v(" "),a("div",{staticClass:"TopSerch",staticStyle:{padding:"5px"}},[a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"产品编码、产品描述、库位",clearable:""},on:{change:function(e){return t.init(1)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择隶属"},on:{change:function(e){return t.init(1)}},model:{value:t.belong,callback:function(e){t.belong=e},expression:"belong"}},t._l(t.options,function(t){return a("el-option",{key:t.index,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"请选择状态"},on:{change:function(e){return t.init(1)}},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.StateS,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",loading:this.$store.state.Vuex.loading,size:"mini"},on:{click:function(e){return t.init()}}},[t._v("检索")]),t._v(" "),a("el-button",{staticStyle:{float:"right",marginRight:"30px"},attrs:{type:"success",size:"mini"},on:{click:function(e){return t.AddStandby()}}},[t._v("添加")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Data,size:"mini",height:this.$store.state.TableOptimumHeight,"highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Brand",label:"品牌",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Desc",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"StateStr",label:"当前状态",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Position",label:"库位",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CusFullName",label:"正在使用的客户","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Memo",label:"备注",width:"150","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Belong",label:"隶属",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return["培训室"==e.row.Belong&&"在库"==e.row.StateStr?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.ApplicationForLoan(e.row)}}},[t._v("申请借用")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.BJApplicationForLoan(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.DelStandby(e.row)}}},[t._v("报废")])]}}])})],1),t._v(" "),a("SaxoFenYe",{attrs:{total:t.total},on:{func:t.func}})],1)},staticRenderFns:[]};var i=a("VU/8")(n,o,!1,function(t){a("l3E0")},"data-v-1c1f8323",null);e.default=i.exports}});