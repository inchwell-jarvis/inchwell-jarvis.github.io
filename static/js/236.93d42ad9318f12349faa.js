webpackJsonp([236],{"1zVm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),l=a.n(r),n={data:function(){return{total:0,tableData:[],options:[{value:-1,label:"全部"},{value:1,label:"未收款"},{value:2,label:"已收款"},{value:9,label:"不需要收款"}],retrieval:{search:"",buyer:"",paystate:-1,pageNum:1,numPerPage:this.$store.state.NewDisplayNumber,orderField:"",orderDirection:""}}},computed:{retrievalJT:function(){return l()(this.retrieval)}},watch:{retrievalJT:function(e,t){this.WatchFenYe(e,t)?this.$refs.SaxoFenYe.ReviseConNumber1():this.start()}},methods:{edit:function(e){this.$router.push({path:"/EDMPOReturnCollection",query:{row:e}})},printer:function(){var e=this,t=JSON.parse(l()(this.retrieval));t.pageNum=1,t.numPerPage=9999999,this.API_GET("MachineSO/GetFinanceMacReturns",t).then(function(t){var a=t.MachineReturnDtos,r={th:["供应商名称","创建时间","相关销售编号","相关采购编号","申请人","付款状态","退货金额","退货方式","财务操作人","仓库操作人"]};r.td=a.map(function(t){return[t.CusFullName,e.formatDate(t.CreateDate),t.RelatedMSOCode,t.RelatedMPOCode,t.Creater,t.PayStateStr,e.FinancialAmountFormat(t.TotalAmount),1==t.ReturnType?"退货退款":"仅退货",t.FinancialOperator,t.WarehouseOperator]}),e.NewDownloadTable(r,e.$route.meta.title)})},start:function(){var e=this;this.API_GET("MachineSO/GetFinanceMacReturns",this.retrieval).then(function(t){e.tableData=t.MachineReturnDtos,e.total=t.DataBars;for(var a=0;a<e.tableData.length;a++){var r=e.tableData[a];r.CreateDate=e.formatDate(r.CreateDate)}})},func:function(e,t){this.retrieval.numPerPage=e,this.retrieval.pageNum=t,this.start()}},created:function(){this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:e.start}}),e._v(" "),a("div",{staticClass:"retrieve"},[a("div",{staticClass:"leftSpan"},[e._v("\n            整机退款\n            "),a("i",{staticClass:"el-icon-printer",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.printer()}}})]),e._v(" "),a("div",{staticClass:"ConView"},[a("div",{staticClass:"department"},[a("span",[e._v("供应商、单号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入供应商、单号",size:"mini"},model:{value:e.retrieval.search,callback:function(t){e.$set(e.retrieval,"search",t)},expression:"retrieval.search"}})],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("采购员")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入采购员",size:"mini"},model:{value:e.retrieval.buyer,callback:function(t){e.$set(e.retrieval,"buyer",t)},expression:"retrieval.buyer"}})],1),e._v(" "),a("div",{staticClass:"department"},[a("span",[e._v("收款状态")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择收款状态",size:"mini"},model:{value:e.retrieval.paystate,callback:function(t){e.$set(e.retrieval,"paystate",t)},expression:"retrieval.paystate"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)])]),e._v(" "),a("div",{staticClass:"content2"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.$store.state.headerCellStyle,"cell-style":e.$store.state.cellStyle,stripe:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"CusFullName",label:"供应商名称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.CreateDate.split("T")[0])+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"RelatedMSOCode",label:"相关销售编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"RelatedMPOCode",label:"相关采购编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Creater",label:"申请人",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PayStateStr",label:"付款状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"退货金额",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{float:"right"}},[e._v(" "+e._s(e.FinancialAmountFormat(t.row.TotalAmount)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"退货方式",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.ReturnType?a("span",[e._v(" 退货退款")]):e._e(),e._v(" "),2==t.row.ReturnType?a("span",[e._v(" 仅退货")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"FinancialOperator",label:"财务操作人",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"WarehouseOperator",label:"仓库操作人",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("SaxoFenYe",{ref:"SaxoFenYe",attrs:{total:e.total},on:{func:e.func}})],1)},staticRenderFns:[]},o=a("VU/8")(n,i,!1,null,null,null);t.default=o.exports}});