webpackJsonp([4],{"3kIh":function(t,e){},Zt9n:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xu46"),s={data:function(){return{MaintainRHF:!1,gridData:[],dialogTableVisible:!1,dialogTableVisible2:!1,search:"",POCode:"",SBData:[],POConsignee:{Name:"",EnginnerName:"",Mobile:"",Address:""},Memo:"",emptyText:"数据较多,必须输入检索项(右上角)",drawer:!1,dialogTableVisible3:!1,GetProducts2:{pageNum:"1",numPerPage:10,orderField:"",orderDirection:"",proType:1,productCode:"",barcodeMemo:"",man:"",desc:"",memo:""},Datatable:[],total:0,BrandList:[],DataPO:{Creater:""},LogisticCharge:0,Amount:0,SentStatus:0,PayStatus:0,PayType:0,Status:0,ProAmount:0,col:[{label:"序号",prop:"Sort",width:"80",sortable:!1},{label:"产品编号",prop:"ProductCode",width:"150",sortable:!1},{label:"内部编码",prop:"InchwellCode",width:"150",sortable:!1},{label:"品牌",prop:"Brand",width:"150",sortable:!1},{label:"产品描述",prop:"ProDesc",widths:!0,sortable:!1}],received:""}},computed:{},watch:{},methods:{AddPOInvoice:function(){var t=this;if(console.log(this.received),""==this.received||0==this.received)return this.$message.error("请输入正确的数值！"),!1;var e={api:"post",url:this.$store.state.http+"PO/AddPOInvoice",data:{id:this.$store.state.Vuex.Id,Str:Number(this.received)}};this.$https(e).then(function(e){t.$message({showClose:!0,message:"创建成功!",type:"success"}),t.initMaintenan()})},sortchange:function(){var t=this;console.log(t.$refs.Order.tableData);for(var e=[],a=0;a<EqList.length;a++){var i=EqList[a];e[a]={MaintainEquId:i.MCEquId,Desc:i.Desc,Pos:i.Pos,Sort:a+1}}console.log(e);var s={url:t.$store.state.http+"Maintain/AfreshEquSort",api:"post",data:{MaintainId:t.$store.state.Vuex.Id,Dtos:e}};t.$https(s).then(function(e){t.EquDtos1=[],setTimeout(function(){t.initMaintenan()},500)})},rowDrops:function(){var t=document.querySelector("#LEtetabes .el-table__body-wrapper tbody"),e=this;i.a.create(t,{onEnd:function(t){var a=t.newIndex,i=t.oldIndex;if(a==i)return!1;console.log(a,i);var s=e.SBData;console.log(s);var o=s[i];s.splice(i,1),s.splice(a,0,o);for(var n=[],l=0;l<s.length;l++){var r=s[l];n[l]={Id:r.POGoodId,Sort:l+1}}var u={url:e.$store.state.http+"PO/AfreshEquSort",api:"post",data:{Id:e.$store.state.Vuex.Id,Dtos:n}};e.$https(u).then(function(t){console.log(t),e.SBData=[],e.initData()})}})},ResetMC:function(){var t=this,e={api:"post",url:this.$store.state.http+"PO/ResetPo",data:{Id:this.$store.state.Vuex.Id}};this.$https(e).then(function(e){t.$message.success(Row.POCode+"单号的状态恢复！")})},GetCusLinkmanMini:function(){var t=this;if(""==this.search)return this.gridData=[],this.emptyText="必须输入检索项",!1;this.emptyText="正在查询 ··· ···";var e={api:"get",url:this.$store.state.http+"System/GetCusLinkmanMini",data:{search:this.search}};this.$https(e).then(function(e){console.log(e),t.gridData=e.Data})},GetEmployeeMini:function(){var t=this;this.dialogTableVisible=!0;var e={api:"get",url:this.$store.state.http+"System/GetEmployeeMini",data:{type:4}};this.$https(e).then(function(e){console.log(e),t.gridData=e.Data})},Choose:function(t){console.log(t),this.POConsignee=t,this.dialogTableVisible=!1,this.dialogTableVisible2=!1},handleClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(a){t(),e.Datatable=[]}).catch(function(t){})},deleteOK:function(t){var e=this;console.log(t);var a={api:"post",url:this.$store.state.http+"PO/DelPoGood",data:{ID:t.POGoodId}};this.$https(a).then(function(t){console.log(t),e.initData(),e.$message.success("删除成功！")})},initss:function(t){var e=this;"1"==t&&(this.GetProducts2.pageNum="1");var a={api:"get",url:this.$store.state.http+"Product/GetProducts2",data:this.GetProducts2};this.$https(a).then(function(t){console.log(t),e.Datatable=t.Data.Dtos;for(var a=0;a<e.Datatable.length;a++){var i=e.Datatable[a];e.$set(i,"Number",1)}e.total=t.Data.DataBars})},func:function(t,e){this.GetProducts2.numPerPage=t,this.GetProducts2.pageNum=e,this.initss()},GetBrand:function(){var t=this,e={api:"get",url:this.$store.state.http+"System/GetBrand"};this.$https(e).then(function(e){t.BrandList=e.Data;for(var a=0;a<t.BrandList.length;a++)t.BrandList[a].value=t.BrandList[a].Value})},querySearch:function(t,e){if(void 0==t)return t="",e(this.BrandList),!1;if(""==t)return e(this.BrandList),!1;for(var a=t,i=this.BrandList,s=[],o=(a.split("")[0],0);o<i.length;o++){var n=i[o];-1!=n.value.indexOf(a)&&s.push(n)}e(s)},adds:function(t){var e=this,a={api:"post",url:this.$store.state.http+"PO/AddPoGoods",data:{POID:this.DataPO.Id,POGoodDtos:[{ProductId:t.ID,Number:t.Number,BuyingUnitPrice:t.BuyingUnitPrice}]}};this.$https(a).then(function(t){e.initData(),e.$message.success("添加成功！")}),this.drawer=!1},addscheck:function(){for(var t=this,e=this.$refs.multipleTable.selection,a=[],i=0;i<e.length;i++){var s=e[i];a.push({ProductId:s.ID,Number:s.Number,BuyingUnitPrice:s.BuyingUnitPrice})}var o={api:"post",url:this.$store.state.http+"PO/AddPoGoods",data:{POID:this.DataPO.Id,POGoodDtos:a}};this.$https(o).then(function(e){t.initData(),t.$message.success("添加成功！")}),this.drawer=!1},AddPO:function(){for(var t=this,e=[],a=0;a<this.SBData.length;a++){var i=this.SBData[a];e.push({ProductId:i.ID,Number:i.ID})}if(0==e.length)return this.$message.warning("请选择想要采购的设备！"),!1;if(""==this.POCode)return this.$message.warning("请输入采购单号！"),!1;if(""==this.POConsignee.Name)return this.$message.warning("请输入收货人姓名！"),!1;if(""==this.POConsignee.EnginnerName)return this.$message.warning("请输入收货人英文名！"),!1;if(""==this.POConsignee.Mobile)return this.$message.warning("请输入收货人手机号！"),!1;if(""==this.POConsignee.Address)return this.$message.warning("请输入收货人地址！"),!1;var s={api:"post",url:this.$store.state.http+"PO/AddPO",data:{POCode:this.POCode,Memo:this.Memo,POConsignee:this.POConsignee,POGoodDtos:e}};this.$https(s).then(function(e){console.log(e),t.$emit("refresh"),t.$router.push({path:"/ListOfPurchaseOrders"})})},initData:function(){var t=this,e={api:"get",url:this.$store.state.http+"PO/GetPO",data:{poId:this.$store.state.Vuex.Id}};this.$https(e).then(function(e){console.log(e.Data.PODetailDto);var a=e.Data.PODetailDto;t.SBData=a.POGoodDtos;for(var i=0;i<t.SBData.length;i++)t.$set(t.SBData[i],"NumberFH","");t.ProAmount=a.ProAmount,t.Memo=a.Memo,t.POCode=a.POCode,t.POConsignee=a.POConsignee,t.DataPO=a,t.Amount=a.Amount,t.LogisticCharge=a.LogisticCharge,t.SentStatus=a.SentStatus,t.PayStatus=a.PayStatus,t.PayType=a.PayType,t.Status=a.Status,"1"==t.DataPO.PayType&&(t.DataPO.PayType="预付"),"2"==t.DataPO.PayType&&(t.DataPO.PayType="到付"),"3"==t.DataPO.PayType&&(t.DataPO.PayType="未知"),t.rowDrops()})},UpdatePoGood:function(t,e){var a=this;"汇率"==e&&(t.BuyingUnitPrice=Number(t.OriginalCurrencyUnitPrice)*Number(t.Rate));var i={api:"post",url:this.$store.state.http+"PO/UpdatePoGood",data:{POGoodId:t.POGoodId,BuyingUnitPrice:t.BuyingUnitPrice,Number:t.Number,Rate:t.Rate}};this.$https(i).then(function(t){a.initData(),a.$message.success("修改成功！")})},SavePO:function(t){var e=this,a={api:"post",url:this.$store.state.http+"PO/SavePO",data:{Id:this.$store.state.Vuex.Id,Amount:this.Amount,LogisticCharge:this.LogisticCharge,POConsignee:this.POConsignee,Memo:this.Memo}};this.$https(a).then(function(a){if(console.log(a),1==t)return e.UpdatePoState("1"),!1;e.$message.success("已保存！")})},UpdatePoState:function(t){var e=this;if("1"==t){var a=this.SBData[0].BuyingCurrency;console.log(a);for(var i=0;i<this.SBData.length;i++){if(this.SBData[i].BuyingCurrency!=a)return this.$message.warning("请统一币种！"),!1}}console.log(t);var s={api:"post",url:this.$store.state.http+"PO/UpdatePoState",data:{POId:this.$store.state.Vuex.Id,Memo:this.Memo,ToSentStatus:t}};this.$https(s).then(function(a){e.$message.success("操作成功！"),4==t&&(e.$emit("refresh"),e.$router.push({path:"/ListOfPurchaseOrders"})),1==t&&e.initData()})},SupplierSendPO:function(){for(var t=this,e=[],a=0;a<this.SBData.length;a++){var i=this.SBData[a];0!=i.NumberFH&&""!=i.NumberFH&&null!=i.NumberFH&&void 0!=i.NumberFH&&(i.Number<Number(i.NumberFH)+Number(i.SentGoodsQuantity)&&this.$message.warning("第"+(a+1)+"条发货数量超出,单号为 :"+i.ProductCode),e.push({Id:i.POGoodId,Value:i.NumberFH})),this.$set(this.SBData[a],"NumberFH",0)}if(0==e.length)return!1;var s={api:"post",url:this.$store.state.http+"PO/SupplierSendPO",data:{POId:this.$store.state.Vuex.Id,Memo:this.Memo,SentGoods:e}};this.$https(s).then(function(e){console.log(e),t.initData(),t.$message.success("正在发货")})},SetPOPayType:function(t){var e=this,a={api:"post",url:this.$store.state.http+"PO/SetPOPayType",data:{Id:this.$store.state.Vuex.Id,Type:t}};this.$https(a).then(function(t){console.log(t),e.initData(),e.$message.success("操作成功！")})},DelPo:function(){var t=this,e={api:"post",url:this.$store.state.http+"PO/DelPo",data:{Id:this.$store.state.Vuex.Id,Str:this.Memo}};this.$https(e).then(function(e){console.log(e),t.$emit("refresh"),t.$router.push({path:"/ListOfPurchaseOrders"})})},POPay:function(t){var e=this,a={api:"post",url:this.$store.state.http+"po/POPay",data:{Id:this.$store.state.Vuex.Id,Type:t}};this.$https(a).then(function(a){e.initData(),e.$message.success("1"==t?"付款成功！":"驳回成功！")})},POModifyPrice:function(){var t=this,e={api:"post",url:this.$store.state.http+"PO/POModifyPrice",data:{Id:this.$store.state.Vuex.Id,Str:this.LogisticCharge,Type:this.Amount}};this.$https(e).then(function(e){t.initData(),t.$message.success("操作成功！")})},POApplyPay:function(){var t=this,e={api:"post",url:this.$store.state.http+"PO/POApplyPay",data:{Id:this.$store.state.Vuex.Id}};this.$https(e).then(function(e){t.initData(),t.$message.success("操作成功！")})}},created:function(){this.initData(),this.GetBrand()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box_s"},[-1!=[1,2,3,6,7,8].indexOf(t.DataPO.Status)?a("div",{staticClass:"el-descriptions__title"},[a("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"success"},on:{click:function(e){return t.AddPOInvoice()}}},[t._v("收到发票")]),t._v(" "),a("el-input",{staticStyle:{width:"130px",float:"right","margin-top":"13px"},attrs:{placeholder:"请输入金额",size:"mini"},model:{value:t.received,callback:function(e){t.received=e},expression:"received"}})],1):t._e(),t._v(" "),a("div",{staticClass:"segmentation"},[t._v("\n        基础信息\n        ")]),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("发起人：")]),t._v(" "),a("span",{staticClass:"span"},[t._v(t._s(t.DataPO.Creater))])]),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("付款方式：")]),t._v(" "),a("span",{staticClass:"span"},[t._v(t._s(t.DataPO.PayType))])]),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("付款状态 ：")]),t._v(" "),a("span",[t._v(t._s(t.DataPO.PayStatusStr))])]),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("发货状态 ：")]),t._v(" "),a("span",[t._v(t._s(t.DataPO.SentStatusStr))])]),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("发货日期：")]),t._v(" "),a("span",{staticClass:"span"},[t._v(t._s(null!=t.DataPO.SendDate?t.DataPO.SendDate.split("T")[0]:" - - "))])]),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("收货日期：")]),t._v(" "),a("span",{staticClass:"span"},[t._v(t._s(null!=t.DataPO.ReceiptDate?t.DataPO.ReceiptDate.split("T")[0]:" - - "))])]),t._v(" "),a("div",{staticClass:"segmentation"},[t._v("\n        选择设备\n        "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary"},on:{click:function(e){t.drawer=!0,t.initss()}}},[t._v("选择设备")])],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.SBData,size:"mini","highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"InchwellCode",label:"内部编码",width:"140","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Brand",label:"品牌",width:"120","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"ProDesc",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",label:"原币种单价",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticStyle:{width:"49%","text-align":"right",float:"left"}},[t._v(t._s(e.row.OriginalCurrencyUnitPrice))]),t._v(" "),a("p",{staticStyle:{width:"49%","text-align":"right",float:"left","font-weight":"bold"}},[t._v(t._s(e.row.BuyingCurrency))])]}}])}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",label:"汇率",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"请输入汇率"},on:{change:function(a){return t.UpdatePoGood(e.row,"汇率")}},model:{value:e.row.Rate,callback:function(a){t.$set(e.row,"Rate",a)},expression:"scope.row.Rate"}})]}}])}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",label:"购买单价",width:"154"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{min:1,size:"mini"},on:{change:function(a){return t.UpdatePoGood(e.row)}},model:{value:e.row.BuyingUnitPrice,callback:function(a){t.$set(e.row,"BuyingUnitPrice",a)},expression:"scope.row.BuyingUnitPrice"}})]}}])}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",label:"添加数量",width:"154"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{min:1,size:"mini"},on:{change:function(a){return t.UpdatePoGood(e.row)}},model:{value:e.row.Number,callback:function(a){t.$set(e.row,"Number",a)},expression:"scope.row.Number"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.deleteOK(e.row)}}})]}}])})],1)],1),t._v(" "),a("div",{staticClass:"WL"},[a("span",[t._v("物流费：")]),t._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:t.LogisticCharge,callback:function(e){t.LogisticCharge=e},expression:"LogisticCharge"}})],1),t._v(" "),a("div",{staticClass:"WL"},[a("span",[t._v("总金额：")]),t._v(" "),a("p",[t._v(t._s(t.ProAmount))])]),t._v(" "),a("div",{staticClass:"WL"},[a("span",{staticStyle:{width:"90px"}},[t._v("优惠后金额：")]),t._v(" "),a("el-input",{staticStyle:{width:"calc(100% - 91px)"},attrs:{size:"mini"},model:{value:t.Amount,callback:function(e){t.Amount=e},expression:"Amount"}})],1),t._v(" "),a("div",{staticClass:"segmentation"},[t._v("\n        发票信息\n    ")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.DataPO.InvoiceDtos,size:"mini","highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.CreateDate.split("T")[0]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"付款金额",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{float:"right"}},[t._v(" "+t._s("￥"+e.row.Amount.toFixed(2)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Creater",label:"申请人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Confirmer",label:"财务确认人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"POCode",label:"采购单编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CusFullName",label:"供应商名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"InvoiceStateStr",label:"发票状态"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"segmentation"},[t._v("\n        收货人信息\n        "),a("el-button-group",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.dialogTableVisible2=!0,t.gridData=[]}}},[t._v("选择联系人")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.GetEmployeeMini()}}},[t._v("选择员工")])],1)],1),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("采购单号:")]),t._v(" "),a("p",[t._v(t._s(t.POCode))])]),t._v(" "),a("div",{staticStyle:{width:"100%",float:"left"}}),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("姓名：")]),t._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:t.POConsignee.Name,callback:function(e){t.$set(t.POConsignee,"Name",e)},expression:"POConsignee.Name"}})],1),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("英文名：")]),t._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:t.POConsignee.EnginnerName,callback:function(e){t.$set(t.POConsignee,"EnginnerName",e)},expression:"POConsignee.EnginnerName"}})],1),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("手机：")]),t._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:t.POConsignee.Mobile,callback:function(e){t.$set(t.POConsignee,"Mobile",e)},expression:"POConsignee.Mobile"}})],1),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("电话：")]),t._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:t.POConsignee.Tel,callback:function(e){t.$set(t.POConsignee,"Tel",e)},expression:"POConsignee.Tel"}})],1),t._v(" "),a("div",{staticClass:"consignee"},[a("span",[t._v("邮箱：")]),t._v(" "),a("el-input",{attrs:{size:"mini"},model:{value:t.POConsignee.Email,callback:function(e){t.$set(t.POConsignee,"Email",e)},expression:"POConsignee.Email"}})],1),t._v(" "),a("div",{staticStyle:{width:"100%",float:"left"}}),t._v(" "),a("div",{staticClass:"consignee",staticStyle:{width:"800px"}},[a("span",[t._v("地址：")]),t._v(" "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:10},placeholder:"请输入内容"},model:{value:t.POConsignee.Address,callback:function(e){t.$set(t.POConsignee,"Address",e)},expression:"POConsignee.Address"}})],1),t._v(" "),a("div",{staticStyle:{width:"100%",float:"left"}}),t._v(" "),a("div",{staticClass:"consignee",staticStyle:{width:"800px"}},[a("span",[t._v("备注：")]),t._v(" "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:10},placeholder:"请输入内容"},model:{value:t.Memo,callback:function(e){t.Memo=e},expression:"Memo"}})],1),t._v(" "),1!=t.SentStatus&&6!=t.SentStatus||2!=t.PayStatus&&2!=t.PayType?t._e():a("div",[a("div",{staticClass:"segmentation"},[t._v("\n            发货\n        ")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.SBData,size:"mini","highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"InchwellCode",label:"内部编码",width:"140","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Brand",label:"品牌",width:"120","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"ProDesc",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",prop:"Number",label:"采购数量",width:"100"}}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",prop:"SentGoodsQuantity",label:"已发数量",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"本次发货",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini",type:"number",min:"1"},model:{value:e.row.NumberFH,callback:function(a){t.$set(e.row,"NumberFH",a)},expression:"scope.row.NumberFH"}})]}}],null,!1,753052008)})],1)],1),t._v(" "),a("div",{staticStyle:{width:"100%",float:"left","margin-top":"50px"}}),t._v(" "),0==t.SentStatus?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.SavePO()}}},[t._v("保存")]):t._e(),t._v(" "),0==t.SentStatus?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.SavePO(1)}}},[t._v("确认")]):t._e(),t._v(" "),0==t.SentStatus?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.DelPo()}}},[t._v("撤单")]):t._e(),t._v(" "),1==t.SentStatus&&3==t.PayType?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.SetPOPayType(1)}}},[t._v("预付")]):t._e(),t._v(" "),1==t.SentStatus&&3==t.PayType?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.SetPOPayType(2)}}},[t._v("到付")]):t._e(),t._v(" "),1!=t.SentStatus&&6!=t.SentStatus||2!=t.PayStatus&&2!=t.PayType?t._e():a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.SupplierSendPO()}}},[t._v("供应商发货")]),t._v(" "),3==t.SentStatus&&2==t.PayStatus?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.UpdatePoState(4)}}},[t._v("结单")]):t._e(),t._v(" "),1!=t.PayStatus||(3!=t.Status&&4!=t.Status&&7!=t.Status||2!=t.PayType)&&(0==t.SentStatus&&5==t.SentStatus||1!=t.PayType)?t._e():a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.POPay(1)}}},[t._v("付款")]),t._v(" "),1!=t.PayStatus||(3!=t.Status&&4!=t.Status&&7!=t.Status||2!=t.PayType)&&(0==t.SentStatus&&5==t.SentStatus||1!=t.PayType)?t._e():a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.POPay(0)}}},[t._v("驳回")]),t._v(" "),a("div",{staticStyle:{width:"100%",float:"left","margin-top":"50px"}}),t._v(" "),2==t.PayType&&3==t.PayStatus?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.POModifyPrice()}}},[t._v("调整价格")]):t._e(),t._v(" "),2==t.PayType&&3==t.PayStatus?a("el-button",{staticClass:"But",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.POApplyPay()}}},[t._v("重新申请付款")]):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"选择收货人",visible:t.dialogTableVisible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.gridData,height:"400",size:"mini"}},[a("el-table-column",{attrs:{label:"姓名",prop:"Name",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{label:"区域",prop:"Area",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"手机",prop:"Mobile"}}),t._v(" "),a("el-table-column",{attrs:{label:"邮箱",prop:"Email",width:"190","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"地址",prop:"Address",width:"190","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.Choose(e.row)}}},[t._v("选择")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"选择收货人",visible:t.dialogTableVisible2,"modal-append-to-body":!1,size:"mini"},on:{"update:visible":function(e){t.dialogTableVisible2=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.gridData,height:"400","empty-text":t.emptyText}},[a("el-table-column",{attrs:{label:"姓名",prop:"Name",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{label:"区域",prop:"Area",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"手机",prop:"Mobile"}}),t._v(" "),a("el-table-column",{attrs:{label:"邮箱",prop:"Email",width:"190","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"地址",prop:"Address",width:"190","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.Choose(e.row)}}},[t._v("选择")])]}}])},[a("template",{slot:"header"},[a("el-input",{staticStyle:{color:"red"},attrs:{size:"mini",placeholder:"输入关键字"},on:{input:t.GetCusLinkmanMini},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],2)],1)],1),t._v(" "),a("el-drawer",{staticStyle:{width:"200%"},attrs:{visible:t.drawer,direction:"ltr",modal:!1,title:"选择设备","before-close":t.handleClose},on:{"update:visible":function(e){t.drawer=e}}},[a("div",{staticClass:"top_init_data",staticStyle:{marginbottom:"10px"}},[a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品编码"},on:{change:function(e){return t.initss(1)}},model:{value:t.GetProducts2.productCode,callback:function(e){t.$set(t.GetProducts2,"productCode",e)},expression:"GetProducts2.productCode"}}),t._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入内部编码"},on:{change:function(e){return t.initss(1)}},model:{value:t.GetProducts2.barcodeMemo,callback:function(e){t.$set(t.GetProducts2,"barcodeMemo",e)},expression:"GetProducts2.barcodeMemo"}}),t._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品描述"},on:{change:function(e){return t.initss(1)}},model:{value:t.GetProducts2.desc,callback:function(e){t.$set(t.GetProducts2,"desc",e)},expression:"GetProducts2.desc"}}),t._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品备注"},on:{change:function(e){return t.initss(1)}},model:{value:t.GetProducts2.memo,callback:function(e){t.$set(t.GetProducts2,"memo",e)},expression:"GetProducts2.memo"}}),t._v(" "),a("el-autocomplete",{attrs:{size:"mini","show-overflow-tooltip":!0,"fetch-suggestions":t.querySearch,placeholder:"请选择品牌",clearable:""},on:{input:function(e){return t.initss(1)}},model:{value:t.GetProducts2.man,callback:function(e){t.$set(t.GetProducts2,"man",e)},expression:"GetProducts2.man"}}),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.initss(1)}}},[t._v("检索")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{marginbottom:"10px"},attrs:{data:t.Datatable,size:"mini",height:this.$store.state.Vuex.TableOptimumHeight,border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"BarcodeMemo",label:"内部编码",width:"140","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Manufacturer",label:"品牌",width:"120","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Characteristics",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",label:"原币种单价",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticStyle:{width:"49%","text-align":"right",float:"left"}},[t._v(t._s(e.row.BuyingUnitPrice))]),t._v(" "),a("p",{staticStyle:{width:"49%","text-align":"right",float:"left","font-weight":"bold"}},[t._v(t._s(e.row.BuyingCurrency))])]}}])}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{staticStyle:{float:"left"},attrs:{fixed:"right",label:"添加数量",width:"154"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{min:1,size:"mini"},model:{value:e.row.Number,callback:function(a){t.$set(e.row,"Number",a)},expression:"scope.row.Number"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.adds(e.row)}}},[t._v("添加")])]}}])})],1),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addscheck()}}},[t._v("添加选择")]),t._v(" "),a("SaxoFenYe",{attrs:{total:t.total},on:{func:t.func}})],1)],1)},staticRenderFns:[]};var n=a("VU/8")(s,o,!1,function(t){a("3kIh")},"data-v-9935067c",null);e.default=n.exports}});