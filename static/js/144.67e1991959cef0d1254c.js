webpackJsonp([144],{"7S31":function(t,e){},Cwpw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{fullname:"",sourceType:"",state:10,sourecId:"",monthrange:"",pageNum:1,pagesize:10,total:0,title:"",UData:{},ReturnPopup:!1,options:[{label:"全部",value:"-1",index:2},{label:"未收货",value:10,index:3},{label:"已收货",value:11,index:4}],businessType:[{label:"全部",value:"",index:2},{label:"零配件订单",value:"零配件订单",index:3},{label:"整机订单",value:"整机订单",index:4}],tableData:[],Str:""}},computed:{},watch:{},methods:{start:function(){var t=this;null!=this.monthrange&&""!=this.monthrange||(this.monthrange=["",""]);var e={api:"get",url:this.$store.state.http+"SO/GetSoReturnPurchases",data:{fullname:this.fullname,begin:this.monthrange[0],end:this.monthrange[1],sourceType:this.sourceType,state:this.state,sourecId:this.sourecId,pageNum:this.pageNum,numPerPage:this.pagesize,orderField:"",orderDirection:""}};this.$https(e).then(function(e){console.log(e),t.total=e.Data.DataBars,t.tableData=e.Data.Dtos;for(var a=0;a<t.tableData.length;a++){var i=t.tableData[a];i.CreateDate=i.CreateDate.split("T")[0]}})},func:function(t,e){this.pagesize=t,this.pageNum=e,this.start()},handleClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(a){t(),e.Str=""}).catch(function(t){})},SRPReceive:function(){var t=this,e={api:"post",url:this.$store.state.http+"SO/SRPReceive",data:{Id:this.UData.ID,Type:"退货"==this.title?1:2,Str:this.Str}};this.$https(e).then(function(e){t.start(),t.Str="",t.ReturnPopup=!1,t.$refs.primary.start(),t.$message({message:t.title+"成功！",type:"success"})})}},created:function(){this.pagesize=this.$store.state.DisplayNumber,this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:t.start}}),t._v(" "),a("div",{staticClass:"TopSerch",staticStyle:{padding:"5px"}},[a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"客户名称"},on:{change:function(e){return t.start(1)}},model:{value:t.fullname,callback:function(e){t.fullname=e},expression:"fullname"}}),t._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetimerange",size:"mini","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},on:{change:function(e){return t.start(1)}},model:{value:t.monthrange,callback:function(e){t.monthrange=e},expression:"monthrange"}}),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",clearable:"",placeholder:"业务类型"},on:{change:function(e){return t.start(1)}},model:{value:t.sourceType,callback:function(e){t.sourceType=e},expression:"sourceType"}},t._l(t.businessType,function(t){return a("el-option",{key:t.value+"2",attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择状态"},on:{change:function(e){return t.start(1)}},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.options,function(t){return a("el-option",{key:t.index,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",loading:this.$store.state.Vuex.loading,size:"mini"},on:{click:function(e){return t.start(1)}}},[t._v("检索")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini",height:this.$store.state.TableOptimumHeight,"highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"CusFullName",label:"客户名称","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"CreateDate",label:"创建时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SourceType",label:"业务类型",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Quantity",label:"数量",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"TotalAmount",label:"合计金额",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"StateStr",label:"状态",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ContractCode",label:"合同号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编码",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ProductDesc",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"KuWei",label:"库位",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("nav",{staticStyle:{"text-align":"center"}},[null==e.row.ReceiveDt?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.$refs.primary.start(),t.title="退货",t.UData=e.row}}},[t._v("退货")]):t._e(),t._v(" "),null==e.row.ReceiveDt?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.$refs.primary.start(),t.title="作废",t.UData=e.row}}},[t._v("作废")]):t._e()],1)]}}])})],1),t._v(" "),a("SaxoFenYe",{attrs:{total:t.total},on:{func:t.func}}),t._v(" "),a("saxo-pop",{ref:"primary",attrs:{type:"primary",title:t.title,width:"800px"},on:{close:function(e){return t.$refs.primary.start()}}},[a("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[a("span",[t._v("客户名")]),t._v(" "),a("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.CusFullName))]),t._v(" "),a("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[a("span",[t._v("合同号")]),t._v(" "),a("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.ContractCode))]),t._v(" "),a("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%"}},[a("span",[t._v("产品编码")]),t._v(" "),a("span",{staticClass:"#SPan"}),t._v(t._s(t.UData.ProductCode))]),t._v(" "),a("div",{staticClass:"itemmsgxx_document",staticStyle:{width:"100%",height:"100px"}},[a("span",[t._v(t._s("退货"==t.title?"库位":"备注"))]),t._v(" "),a("span",{staticClass:"#SPan"}),t._v(" "),"退货"==t.title?a("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:t.Str,callback:function(e){t.Str=e},expression:"Str"}}):t._e(),t._v(" "),"作废"==t.title?a("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"请输入备注",type:"textarea",rows:4},model:{value:t.Str,callback:function(e){t.Str=e},expression:"Str"}}):t._e()],1),t._v(" "),a("div",{staticStyle:{height:"30px",float:"left",color:"Transparent"}},[t._v("空格")]),t._v(" "),a("div",{staticStyle:{width:"100%","text-align":"right"}},["退货"==t.title?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.SRPReceive()}}},[t._v("退货")]):t._e(),t._v(" "),"作废"==t.title?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.SRPReceive()}}},[t._v("作废")]):t._e()],1)])],1)},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(t){a("7S31")},"data-v-34afdbec",null);e.default=n.exports}});