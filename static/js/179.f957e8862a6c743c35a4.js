webpackJsonp([179],{YD5v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{Kehu:"",CusId:"",Kehu2:"",CusId2:"",Amount:"",InvoiceState:"",CFclick:!0,BuyingCurrency:"RMB",BelongCompany:"技术公司"}},computed:{},watch:{},methods:{CreateMSO:function(){var t=this;if(!this.CFclick)return this.$message.error("请勿连续点击！"),!1;this.CFclick=!1;var e=setTimeout(function(){t.CFclick=!0,clearTimeout(e)},3e3);if(!this.CusId&&!this.CusId2)return this.$message.error("没有输入客户！"),!1;if(!this.Amount)return this.$message.error("没有输入金额！"),!1;if(!this.InvoiceState)return this.$message.error("没有选择发票状态！"),!1;var a={data:{Amount:this.Amount,CusId:this.CusId||this.CusId2,InvoiceState:this.InvoiceState,BelongCompany:this.BelongCompany,BuyingCurrency:this.BuyingCurrency},api:"post",url:this.$store.state.http+"CRM/AddBBOC"};this.$https(a).then(function(e){t.$message({message:"创建成功！",type:"success"}),t.$router.push({path:"/client-account-pending",query:{Id:e.Data}}),t.$emit("refresh")})},querySearch:function(t,e){if(console.log(t),void 0==t)return t="",!1;""==t&&(t="北京");var a={data:{search:t},api:"get",url:this.$store.state.http+"CRM/GetCustomerMini",header:this.$store.state.token};this.$https(a).then(function(t){if(console.log(t.Data.Dtos),0==t.Data.Dtos.length)return e([]),!1;for(var a=0;a<t.Data.Dtos.length;a++)t.Data.Dtos[a].value=t.Data.Dtos[a].FullName;e(t.Data.Dtos)})},querySearch2:function(t,e){if(console.log(t),void 0==t)return t="",!1;""==t&&(t="北京");var a={data:{search:t,type:"供应商"},api:"get",url:this.$store.state.http+"CRM/GetCustomerMini",header:this.$store.state.token};this.$https(a).then(function(t){console.log(t.Data.Dtos);if(0==t.Data.Dtos.length)return e([]),!1;for(var a=0;a<t.Data.Dtos.length;a++)t.Data.Dtos[a].value=t.Data.Dtos[a].FullName;e(t.Data.Dtos)})},querySearchs:function(t,e){if(""==this.CusId)return!1;var a={data:{cusId:this.CusId},api:"get",url:this.$store.state.http+"CRM/GetCusLinkManMini",header:this.$store.state.token};this.$https(a).then(function(t){console.log(t.Data.Dtos);if(0==t.Data.Dtos.length)return e([]),!1;for(var a=0;a<t.Data.Dtos.length;a++)t.Data.Dtos[a].value=t.Data.Dtos[a].Name;e(t.Data.Dtos)})},handleSelects:function(t){console.log(t),this.RepairName=t.Name,this.RepairNameEn=t.NameEn,this.MobilePhone=t.Mobile,this.Tel=t.Tel,this.Email=t.Email,this.AddressDetail=t.Address},handleSelect:function(t){this.CusId2="",this.Kehu2="",this.CusId=t.CusId},handleSelect2:function(t){this.CusId="",this.Kehu="",this.CusId2=t.CusId}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box_s"},[a("div",{staticClass:"retrieve"},[a("span",{staticClass:"retrieveSpan"},[t._v("创建挂账款")]),t._v(" "),a("saxo-button",{staticStyle:{float:"right"},attrs:{type:"success",mini:""},on:{click:function(e){return t.CreateMSO()}}},[t._v("创 建")])],1),t._v(" "),a("div",{staticClass:"From"},[a("span",[t._v("客户")]),t._v(" "),a("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{select:t.handleSelect},model:{value:t.Kehu,callback:function(e){t.Kehu=e},expression:"Kehu"}})],1),t._v(" "),a("div",{staticClass:"From"},[a("span",[t._v("隶属公司")]),t._v(" "),a("el-radio-group",{model:{value:t.BelongCompany,callback:function(e){t.BelongCompany=e},expression:"BelongCompany"}},[a("el-radio",{attrs:{label:"技术公司"}},[t._v("技术公司")]),t._v(" "),a("el-radio",{attrs:{label:"服务公司"}},[t._v("服务公司")])],1)],1),t._v(" "),a("div",{staticClass:"From"},[a("span",[t._v("资金量")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:t.Amount,callback:function(e){t.Amount=e},expression:"Amount"}})],1),t._v(" "),a("div",{staticClass:"From"},[a("span",[t._v("币种")]),t._v(" "),a("el-radio-group",{model:{value:t.BuyingCurrency,callback:function(e){t.BuyingCurrency=e},expression:"BuyingCurrency"}},[a("el-radio",{attrs:{label:"RMB"}},[t._v("人民币（RMB）")]),t._v(" "),a("el-radio",{attrs:{label:"EUR"}},[t._v("欧元（EUR）")]),t._v(" "),a("el-radio",{attrs:{label:"USD"}},[t._v("美元（USD）")]),t._v(" "),a("el-radio",{attrs:{label:"GBP"}},[t._v("英镑（GBP）")])],1)],1),t._v(" "),a("div",{staticClass:"From"},[a("span",[t._v("发票状态")]),t._v(" "),a("el-radio",{staticStyle:{"margin-top":"17px"},attrs:{label:"5"},model:{value:t.InvoiceState,callback:function(e){t.InvoiceState=e},expression:"InvoiceState"}},[t._v("未开票挂账")]),t._v(" "),a("el-radio",{staticStyle:{"margin-top":"17px"},attrs:{label:"6"},model:{value:t.InvoiceState,callback:function(e){t.InvoiceState=e},expression:"InvoiceState"}},[t._v("已开票挂账")])],1)])},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(t){a("ZvNK")},"data-v-13eb4c18",null);e.default=o.exports},ZvNK:function(t,e){}});