webpackJsonp([59],{DIBk:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{Kehu:"",CusId:"",SOCode:" - ",MSOType:"日常",RepairName:"",RepairNameEn:"",MobilePhone:"",Tel:"",Email:"",AddressDetail:""}},computed:{},watch:{},methods:{CreateMSO:function(){var e=this;if(!this.CusId)return this.$message.error("没有输入客户！"),!1;if(!this.SOCode)return this.$message.error("没有输入订单编号！"),!1;if(!this.RepairName)return this.$message.error("没有输入联系人姓名！"),!1;var t={SOCode:this.SOCode,CusId:this.CusId,MSOType:this.MSOType,CusLinkMan:{ChineseName:this.RepairName,Address:this.AddressDetail,MobilePhone:this.MobilePhone,EMail:this.Email}};this.API_POST("MachineSO/CreateMSO",t).then(function(t){e.$message.success("创建成功！"),e.$router.push({path:"/machine-sales-edit",query:{Id:t}}),e.$emit("refresh")})},querySearch:function(e,t){!e&&(e="北京");var s={search:e};this.API_GET("CRM/GetCustomerMini",s).then(function(e){for(var s=[],a=0;a<e.Dtos.length;a++)e.Dtos[a].value=e.Dtos[a].FullName,s.push(e.Dtos[a]);t(s)})},querySearchs:function(e,t){if(""==this.CusId)return!1;var s={cusId:this.CusId};this.API_GET("CRM/GetCusLinkManMini",s).then(function(e){for(var s=[],a=0;a<e.Dtos.length;a++)e.Dtos[a].value=e.Dtos[a].Name,s.push(e.Dtos[a]);t(s)})},handleSelects:function(e){console.log(e),this.RepairName=e.Name,this.RepairNameEn=e.NameEn,this.MobilePhone=e.Mobile,this.Tel=e.Tel,this.Email=e.Email,this.AddressDetail=e.Address},handleSelect:function(e){var t=this;this.CusId=e.CusId;var s={Id:this.CusId,Type:this.MSOType};this.API_POST("MachineSO/GetMSOCode",s).then(function(e){t.SOCode=e})},SelectType:function(){var e=this,t={Id:this.CusId,Type:this.MSOType};this.API_POST("MachineSO/GetMSOCode",t).then(function(t){e.SOCode=t})}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box_s"},[s("div",{staticClass:"retrieve"},[s("span",{staticClass:"retrieveSpan"},[e._v("创建整机订单")]),e._v(" "),s("saxo-button",{staticStyle:{float:"right"},attrs:{type:"success",mini:""},on:{click:function(t){return e.CreateMSO()}}},[e._v("创 建")])],1),e._v(" "),s("div",{staticClass:"From"},[s("span",[e._v("客户")]),e._v(" "),s("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.Kehu,callback:function(t){e.Kehu=t},expression:"Kehu"}})],1),e._v(" "),s("div",{staticClass:"From"},[s("span",[e._v("类别")]),e._v(" "),s("el-radio",{attrs:{label:"日常"},on:{change:function(t){return e.SelectType()}},model:{value:e.MSOType,callback:function(t){e.MSOType=t},expression:"MSOType"}},[e._v("日常")]),e._v(" "),s("el-radio",{attrs:{label:"新店"},on:{change:function(t){return e.SelectType()}},model:{value:e.MSOType,callback:function(t){e.MSOType=t},expression:"MSOType"}},[e._v("新店")]),e._v(" "),s("el-radio",{attrs:{label:"改扩"},on:{change:function(t){return e.SelectType()}},model:{value:e.MSOType,callback:function(t){e.MSOType=t},expression:"MSOType"}},[e._v("改扩")]),e._v(" "),s("el-radio",{attrs:{label:"特殊"},on:{change:function(t){return e.SelectType()}},model:{value:e.MSOType,callback:function(t){e.MSOType=t},expression:"MSOType"}},[e._v("特殊")]),e._v(" "),s("el-radio",{attrs:{label:"备货"},on:{change:function(t){return e.SelectType()}},model:{value:e.MSOType,callback:function(t){e.MSOType=t},expression:"MSOType"}},[e._v("备货")])],1),e._v(" "),s("div",{staticClass:"From"},[s("span",[e._v("联系人")]),e._v(" "),s("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchs,placeholder:"请输入内容"},on:{select:e.handleSelects},model:{value:e.RepairName,callback:function(t){e.RepairName=t},expression:"RepairName"}})],1),e._v(" "),s("div",{staticClass:"From"},[s("span",[e._v("地址")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.AddressDetail,callback:function(t){e.AddressDetail=t},expression:"AddressDetail"}})],1),e._v(" "),s("div",{staticClass:"From"},[s("span",[e._v("手机")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.MobilePhone,callback:function(t){e.MobilePhone=t},expression:"MobilePhone"}})],1),e._v(" "),s("div",{staticClass:"From"},[s("span",[e._v("Email")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.Email,callback:function(t){e.Email=t},expression:"Email"}})],1),e._v(" "),s("div",{staticClass:"From"},[s("span",[e._v("订单编号")]),e._v(" "),s("span",{staticStyle:{"line-height":"50px"}},[e._v(e._s(e.SOCode?e.SOCode:" - "))])])])},staticRenderFns:[]};var n=s("VU/8")(a,i,!1,function(e){s("mA+R")},"data-v-9c971dc4",null);t.default=n.exports},"mA+R":function(e,t){}});