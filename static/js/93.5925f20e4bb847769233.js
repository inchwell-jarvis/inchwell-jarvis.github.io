webpackJsonp([93],{S9fD:function(e,l){},lhbR:function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var i={name:"",data:function(){return{ToolObjectId:"",ToolProId:"",Selectcontact:"",Kehu:"",formLabelAlign:{Name:"",Email:"",Tel:"",LinkManId:"",Address:"",Default:"",Mobile:"",NameEn:"",SerialNumber:"",Model:"",ServiceDate:"",ServiceType:""},options:["保养","维修","安装","培训","VIP回访","实验","钣喷回访","VIP与钣喷回访回访","回访","地基勘探","乘车","调休","年假","事假","其他"]}},created:function(){},components:{},methods:{querySearchs:function(e,l){if(""==this.ToolProId)return this.$message.error("请先选择客户！"),!1;this.API_GET("CRM/GetCusLinkManMini",{cusId:this.ToolProId||""}).then(function(e){for(var t=0;t<e.Dtos.length;t++)e.Dtos[t].value=e.Dtos[t].Name;console.log(e.Dtos),l(e.Dtos)})},querySearch:function(e,l){this.API_GET("CRM/GetCustomerMini",{search:e||"北京"}).then(function(e){for(var t=0;t<e.Dtos.length;t++)e.Dtos[t].value=e.Dtos[t].FullName;console.log(e.Dtos),l(e.Dtos)})},handleSelects:function(e){console.log(e),this.formLabelAlign=e},handleSelect:function(e){this.item=[],this.item[0]=e,this.ToolProId=e.CusId,console.log(this.ToolProId),this.Selectcontact="",this.formLabelAlign={Name:"",Email:"",Tel:"",LinkManId:"",Address:"",Default:"",Mobile:"",NameEn:""}},InitWord:function(){var e=this,l={CustomerId:this.ToolProId,ServiceDate:this.formLabelAlign.ServiceDate,ServiceType:this.formLabelAlign.ServiceType,LinkMan:this.Selectcontact,LinkTel:this.formLabelAlign.Mobile,LinkEmail:this.formLabelAlign.Email,SerialNumber:this.formLabelAlign.SerialNumber,Model:this.formLabelAlign.Model,Abscissa:0,Ordinate:0};if(console.log(l),""==this.ToolProId)return this.$message.warning("请选择客户！"),!1;if(""==this.Selectcontact)return this.$message.warning("请选择联系人！"),!1;if(""==this.formLabelAlign.Mobile)return this.$message.warning("请输入联系人手机号！"),!1;if(""==this.formLabelAlign.Email)return this.$message.warning("请输入联系人邮箱！"),!1;if(""==this.formLabelAlign.ServiceDate||void 0==this.formLabelAlign.ServiceDate)return this.$message.warning("请选择服务日期！"),!1;if(""==this.formLabelAlign.ServiceType||void 0==this.formLabelAlign.ServiceType)return this.$message.warning("请选择服务类型！"),!1;if("维修"==this.formLabelAlign.ServiceType){if(""==this.formLabelAlign.SerialNumber||void 0==this.formLabelAlign.SerialNumber)return this.$message.warning("请输入序列号！"),!1;if(""==this.formLabelAlign.Model||void 0==this.formLabelAlign.Model)return this.$message.warning("请输入型号！"),!1}this.API_POST("PCenter/AddWorkDaily",l).then(function(l){e.$emit("refresh"),e.$router.push({path:"work-log"})})}}},o={render:function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("SaxoPage",{scopedSlots:e._u([{key:"title",fn:function(){return[t("saxo-button",{attrs:{type:"primary",mini:""},on:{click:function(l){return e.InitWord()}}},[e._v("创建日报")])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"From"},[t("span",[e._v("客户")]),e._v(" "),t("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.Kehu,callback:function(l){e.Kehu=l},expression:"Kehu"}})],1),e._v(" "),t("div",{staticClass:"From"},[t("span",[e._v("联系人")]),e._v(" "),t("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchs,placeholder:"请输入内容"},on:{select:e.handleSelects},model:{value:e.Selectcontact,callback:function(l){e.Selectcontact=l},expression:"Selectcontact"}})],1),e._v(" "),t("div",{staticClass:"From"},[t("span",[e._v("手机")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.formLabelAlign.Mobile,callback:function(l){e.$set(e.formLabelAlign,"Mobile",l)},expression:"formLabelAlign.Mobile"}})],1),e._v(" "),t("div",{staticClass:"From"},[t("span",[e._v("Email")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.formLabelAlign.Email,callback:function(l){e.$set(e.formLabelAlign,"Email",l)},expression:"formLabelAlign.Email"}})],1),e._v(" "),t("div",{staticClass:"From"},[t("span",[e._v("服务日期")]),e._v(" "),t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formLabelAlign.ServiceDate,callback:function(l){e.$set(e.formLabelAlign,"ServiceDate",l)},expression:"formLabelAlign.ServiceDate"}})],1),e._v(" "),t("div",{staticClass:"From"},[t("span",[e._v("服务类型")]),e._v(" "),t("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},model:{value:e.formLabelAlign.ServiceType,callback:function(l){e.$set(e.formLabelAlign,"ServiceType",l)},expression:"formLabelAlign.ServiceType"}},e._l(e.options,function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),"维修"==e.formLabelAlign.ServiceType?t("div",{staticClass:"From"},[t("span",[e._v("型   号")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.formLabelAlign.Model,callback:function(l){e.$set(e.formLabelAlign,"Model",l)},expression:"formLabelAlign.Model"}})],1):e._e(),e._v(" "),"维修"==e.formLabelAlign.ServiceType?t("div",{staticClass:"From"},[t("span",[e._v("序列号")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.formLabelAlign.SerialNumber,callback:function(l){e.$set(e.formLabelAlign,"SerialNumber",l)},expression:"formLabelAlign.SerialNumber"}})],1):e._e()]},proxy:!0}])})},staticRenderFns:[]};var a=t("VU/8")(i,o,!1,function(e){t("S9fD")},"data-v-67150e64",null);l.default=a.exports}});