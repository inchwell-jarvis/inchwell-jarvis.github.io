webpackJsonp([191],{lqra:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),n={data:function(){return{retrieval:{search:"",time:"",begin:"",end:"",pageNum:1,numPerPage:this.$store.state.NewDisplayNumber,orderField:"",orderDirection:""},total:0,tableData:[],BusinessType:["SO","MC"],BusinessType886:"",ConfigType:["区域季度零配件目标销售额","区域年度零配件目标销售额"],ConfigType886:"",BonusDate:"",Area:"",Price:"",Proportion:"",Other:""}},computed:{retrievalJT:function(){return a()(this.retrieval)}},watch:{retrievalJT:function(t,e){this.WatchFenYe(t,e)?this.$refs.SaxoFenYe.ReviseConNumber1():this.start()}},methods:{start:function(){var t=this;this.API_GET("Finance/GetBonusConfigs",this.retrieval).then(function(e){t.tableData=e.Dtos,t.total=e.DataBars})},pickerChange:function(t){console.log(t),null===t?(this.retrieval.begin="",this.retrieval.end=""):(this.retrieval.begin=t[0],this.retrieval.end=t[1])},sendOut:function(){var t=this;if(""==this.BusinessType886)return this.$message.warning("未选择业务类型");if(""==this.ConfigType886)return this.$message.warning("未选择配置类别");if(""==this.BonusDate)return this.$message.warning("请输入奖金日期");if(""==this.Area)return this.$message.warning("未选择区域");if(""==this.Price)return this.$message.warning("请输入金额");if(""==this.Proportion)return this.$message.warning("请输入比例");if(""==this.Other)return this.$message.warning("请输入其他");var e={BusinessType:this.BusinessType886,ConfigType:this.ConfigType886,BonusDate:this.BonusDate,Area:this.Area.split("&&&")[0],AreaId:this.Area.split("&&&")[1],Price:this.Price,Proportion:this.Proportion,Other:this.Other};this.API_POST("Finance/AddBonusConfig",e).then(function(e){t.$message.success("创建成功！"),t.disappear(),t.start()})},disappear:function(){this.$refs.success.start(),this.BusinessType886="",this.ConfigType886="",this.BonusDate="",this.Area="",this.Price="",this.Proportion="",this.Other=""},deleterv:function(t){var e=this;this.$confirm("此操作将永久删除该奖金配置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.API_POST("Finance/DelBonusConfig",{Id:t.ID}).then(function(t){e.$message.success("删除成功！"),e.start()})}).catch(function(){e.$message.info("已取消删除")})},func:function(t,e){this.retrieval.numPerPage=t,this.retrieval.pageNum=e,this.start()}},created:function(){this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"retrieve"},[i("div",{staticClass:"leftSpan"},[t._v("\n            "+t._s(t.$route.meta.title)+"\n        ")]),t._v(" "),i("div",{staticClass:"ConView"},[i("div",{staticClass:"department"},[i("span",[t._v("检索")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入检索项",size:"mini"},model:{value:t.retrieval.search,callback:function(e){t.$set(t.retrieval,"search",e)},expression:"retrieval.search"}})],1),t._v(" "),i("div",{staticClass:"department",staticStyle:{width:"500px"}},[i("span",[t._v("日期")]),t._v(" "),i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.pickerChange},model:{value:t.retrieval.time,callback:function(e){t.$set(t.retrieval,"time",e)},expression:"retrieval.time"}})],1)]),t._v(" "),i("saxo-button",{staticStyle:{float:"right","margin-top":"13px"},attrs:{mini:"",type:"success"},on:{click:function(e){return t.$refs.success.start()}}},[t._v("创建")])],1),t._v(" "),i("div",{staticClass:"content2"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":t.$store.state.headerCellStyle,"cell-style":t.$store.state.cellStyle,stripe:"",height:"100%"}},[i("el-table-column",{attrs:{prop:"BusinessType",label:"业务类型",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"ConfigType",label:"配置类别","show-overflow-tooltip":!0}}),t._v(" "),i("el-table-column",{attrs:{prop:"BonusDate",label:"奖金日期",width:"140"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Area",label:"区域",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{label:"金额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{float:"right"}},[t._v(" "+t._s(t.FinancialAmountFormat(e.row.Price)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"Proportion",label:"比例",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Other",label:"其它","show-overflow-tooltip":!0}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("nav",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return t.deleterv(e.row)}}},[t._v("删除")])],1)]}}])})],1)],1),t._v(" "),i("SaxoFenYe",{ref:"SaxoFenYe",attrs:{total:t.total},on:{func:t.func}}),t._v(" "),i("saxo-pop",{ref:"success",attrs:{type:"success",title:"创建奖金配置",width:"600px"},on:{close:function(e){return t.$refs.success.start()}}},[i("div",{staticClass:"inp"},[i("p",{staticClass:"baiop"},[t._v("业务类型")]),t._v(" "),i("div",{staticClass:"jains"},[i("el-select",{staticStyle:{width:"50%"},attrs:{size:"mini",clearable:"",placeholder:"必填"},model:{value:t.BusinessType886,callback:function(e){t.BusinessType886=e},expression:"BusinessType886"}},t._l(t.BusinessType,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1)]),t._v(" "),i("div",{staticClass:"inp"},[i("p",{staticClass:"baiop"},[t._v("配置类别")]),t._v(" "),i("div",{staticClass:"jains"},[i("el-select",{staticStyle:{width:"50%"},attrs:{size:"mini",clearable:"",placeholder:"必填"},model:{value:t.ConfigType886,callback:function(e){t.ConfigType886=e},expression:"ConfigType886"}},t._l(t.ConfigType,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1)]),t._v(" "),i("div",{staticClass:"inp"},[i("p",{staticClass:"baiop"},[t._v("奖金日期/季度/年份")]),t._v(" "),i("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"必填 2020/01",size:"mini",clearable:""},model:{value:t.BonusDate,callback:function(e){t.BonusDate=e},expression:"BonusDate"}})],1),t._v(" "),i("div",{staticClass:"inp"},[i("p",{staticClass:"baiop"},[t._v("区域")]),t._v(" "),i("div",{staticClass:"jains"},[i("el-select",{staticStyle:{width:"50%"},attrs:{size:"mini",clearable:"",placeholder:"必填"},model:{value:t.Area,callback:function(e){t.Area=e},expression:"Area"}},t._l(t.$store.state.Vuex.Area,function(t,e){return i("el-option",{key:e,attrs:{label:t.Value,value:t.Value+"&&&"+t.Id}})}),1)],1)]),t._v(" "),i("div",{staticClass:"inp"},[i("p",{staticClass:"baiop"},[t._v("金额")]),t._v(" "),i("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"必填",size:"mini",clearable:""},model:{value:t.Price,callback:function(e){t.Price=e},expression:"Price"}})],1),t._v(" "),i("div",{staticClass:"inp"},[i("p",{staticClass:"baiop"},[t._v("比例")]),t._v(" "),i("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"必填",size:"mini",clearable:""},model:{value:t.Proportion,callback:function(e){t.Proportion=e},expression:"Proportion"}})],1),t._v(" "),i("div",{staticClass:"inp"},[i("p",{staticClass:"baiop"},[t._v("其它")]),t._v(" "),i("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"必填",size:"mini",clearable:""},model:{value:t.Other,callback:function(e){t.Other=e},expression:"Other"}})],1),t._v(" "),i("div",{staticStyle:{width:"100%","text-align":"right"}},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.disappear()}}},[t._v("取 消")]),t._v(" "),i("saxo-button",{attrs:{mini:"",type:"success"},on:{click:function(e){return t.sendOut()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(n,r,!1,function(t){i("u8RU")},"data-v-02f541cd",null);e.default=l.exports},u8RU:function(t,e){}});