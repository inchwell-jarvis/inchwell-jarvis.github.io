webpackJsonp([50],{"+Uh/":function(t,e){},LC0C:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),n=a.n(i),s={data:function(){var t;return{input:"",Data:{},table:[],headerCellStyle:(t={background:"#f7f8fd",fontSize:"12px",fontWeight:400,fontStyle:"normal"},n()(t,"fontSize","11px"),n()(t,"padding","5px"),n()(t,"paddingLeft","0px"),t),cellStyle:{height:"48px",fontSize:"12px"},DeviceDatabaseShow:!1}},computed:{},watch:{},methods:{ShowFalse:function(t){this.DeviceDatabaseShow=t},DataBase:function(t){var e=this,a=t.map(function(t){return{ProductId:t.ID||t.Id,Number:t.Quantity}});this.API_POST("MachineSO/AddSOTEqus",{Id:this.Id,Euqs:a}).then(function(t){e.drawer=!1,e.$message.success("添加成功"),e.start()})},UpdateSOTEquQuantity:function(t,e,a){var i=this,n=t.Quantity;"Add"==e&&(n+=1),"Del"==e&&(n-=1),"saxo"==e&&(n=a),0==e&&(n=0),this.API_POST("MachineSO/UpdateSOTEquQuantity",{Id:t.ID,Str:n}).then(function(t){0==n&&i.$message.success("删除成功"),i.start()})},UpdateSOTemplate:function(){var t=this,e={ID:this.Id,Title:this.Data.Title,Memo:this.Data.Memo};this.API_POST("MachineSO/UpdateSOTemplate",e).then(function(e){t.$message.success("修改成功"),t.start()})},start:function(){var t=this;this.API_GET("MachineSO/GetSOTemplate",{sotId:this.Id}).then(function(e){t.Data=e.Dto,t.table=e.Dto.EquDtos})}},created:function(){this.Id=this.$route.query.Id,this.start()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){this.$emit("refresh")},destroyed:function(){},activated:function(){}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box_s"},[a("div",{staticClass:"retrieve"},[a("span",{staticClass:"retrieveSpan"},[t._v("编辑订单模板")]),t._v(" "),a("saxo-button",{staticStyle:{float:"right"},attrs:{type:"success",mini:""},on:{click:function(e){return t.UpdateSOTemplate()}}},[t._v("保存")])],1),t._v(" "),a("div",{staticClass:"Con"},[a("div",{staticClass:"el-descriptions__title"},[t._v("标题")]),t._v(" "),a("el-input",{staticStyle:{width:"400px",margin:"20px 0"},attrs:{placeholder:"请输入内容"},model:{value:t.Data.Title,callback:function(e){t.$set(t.Data,"Title",e)},expression:"Data.Title"}}),t._v(" "),a("div",{staticClass:"el-descriptions__title"},[t._v("备注")]),t._v(" "),a("br"),t._v(" "),a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入内容"},model:{value:t.Data.Memo,callback:function(e){t.$set(t.Data,"Memo",e)},expression:"Data.Memo"}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"el-descriptions__title"},[t._v("设备\n            "),a("saxo-button",{staticStyle:{float:"right"},attrs:{mini:"",type:"success"},on:{click:function(e){return t.ShowFalse(!0)}}},[t._v("添加设备")])],1),t._v(" "),a("br"),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table,"header-cell-style":t.headerCellStyle,"cell-style":t.cellStyle,stripe:""}},[a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{prop:"InchwellCode",label:"内部编码",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ProductDesc",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"数量",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{id:"Number_input"}},[a("div",{staticClass:"div_icon_text",on:{click:function(a){return t.UpdateSOTEquQuantity(e.row,"Del")}}},[a("i",{staticClass:"el-icon-minus"})]),t._v(" "),a("div",{staticClass:"div_icon_textConter"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.row.Quantity,expression:"scope.row.Quantity"}],staticStyle:{"text-align":"center","border-style":"none",outline:"none",width:"100%"},attrs:{type:"text",name:"",id:""},domProps:{value:e.row.Quantity},on:{blur:function(a){return t.UpdateSOTEquQuantity(e.row,"saxo",e.row.Quantity)},input:function(a){a.target.composing||t.$set(e.row,"Quantity",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"div_icon_text",on:{click:function(a){return t.UpdateSOTEquQuantity(e.row,"Add")}}},[a("i",{staticClass:"el-icon-plus"})])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("saxo-button",{attrs:{mini:"",type:"danger"},on:{click:function(a){return t.UpdateSOTEquQuantity(e.row,0)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("DeviceDatabase",{attrs:{show:t.DeviceDatabaseShow,protype:"6"},on:{ShowFalse:t.ShowFalse,DataBase:t.DataBase}})],1)])},staticRenderFns:[]};var l=a("VU/8")(s,o,!1,function(t){a("+Uh/")},"data-v-c722acde",null);e.default=l.exports}});