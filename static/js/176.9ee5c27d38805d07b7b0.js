webpackJsonp([176],{"Gl/z":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{Data:{},DetailDtos:[]}},created:function(){this.Data=this.$route.query.row,this.GetMCEquSupplie(this.Data.ContractId),console.log(this.Data)},mounted:function(){},computed:{},watch:{},methods:{GetMCEquSupplie:function(t){var e=this;this.API_GET("Maintain/GetMCEquSupplie",{Id:t}).then(function(t){console.log(t),e.DetailDtos=t.DetailDtos})},Save:function(){var t=this,e={Id:this.Data.Id,Str:this.Data.EstimatedTime};this.API_POST("Maintain/UpdateMCOEstimatedTime",e).then(function(e){t.$message.success("修改成功！"),t.GetMCEquSupplie(t.Data.ContractId)})},StartTask:function(){var t=this;console.log(this.Data.ContractId),this.API_POST("Maintain/BeginMaintainOrder",{ID:this.Data.Id}).then(function(e){t.$message.success("启动成功！"),t.$emit("refresh"),t.$router.push({path:"/MaintenanceTasks"})})}},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("SaxoPage",{scopedSlots:t._u([{key:"title",fn:function(){return[0===t.Data.State?a("saxo-button",{attrs:{mini:""},on:{click:function(e){return t.StartTask()}}},[t._v("启动任务")]):t._e()]},proxy:!0},{key:"content",fn:function(){return[a("h3",[t._v("基础信息")]),t._v(" "),a("el-descriptions",{attrs:{size:"mini",column:4,border:""}},[a("el-descriptions-item",{attrs:{label:"客户名称"}},[t._v(" "+t._s(t.Data.CustomerName))]),t._v(" "),a("el-descriptions-item",{attrs:{label:"合同号"}},[t._v(" "+t._s(t.Data.ContractCode))]),t._v(" "),a("el-descriptions-item",{attrs:{label:"单号"}},[t._v(" "+t._s(t.Data.OrderCode))]),t._v(" "),a("el-descriptions-item",{attrs:{label:"状态"}},[t._v(" "+t._s(t.Data.StateStr))]),t._v(" "),a("el-descriptions-item",{attrs:{label:"耗材状态"}},[t._v(" "+t._s(t.Data.MSSOStateStr))]),t._v(" "),a("el-descriptions-item",{attrs:{label:"预计时间"}},[0===t.Data.State?a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},on:{change:function(e){return t.Save()}},model:{value:t.Data.EstimatedTime,callback:function(e){t.$set(t.Data,"EstimatedTime",e)},expression:"Data.EstimatedTime"}}):t._e(),t._v(" "),0!==t.Data.State?a("span",[t._v(" "+t._s(t.Data.EstimatedTime))]):t._e()],1),t._v(" "),a("el-descriptions-item",{attrs:{label:"启动时间"}},[t._v(" "+t._s(t.Data.ActualTime))]),t._v(" "),a("el-descriptions-item",{attrs:{label:"开始时间"}},[t._v(" "+t._s(t.Data.BeginTime))]),t._v(" "),a("el-descriptions-item",{attrs:{label:"结束时间"}},[t._v(" "+t._s(t.Data.EndTime))])],1),t._v(" "),a("h3",[t._v("设备信息")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.DetailDtos,"header-cell-style":t.$store.state.headerCellStyle,"cell-style":t.$store.state.cellStyle,stripe:""}},[a("el-table-column",{attrs:{prop:"ProType",label:"名称",width:"300","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"ProductCode",label:"编号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ProductDesc",label:"描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Numner",label:"数量",width:"100"}})],1)]},proxy:!0}])})},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("jSpo")},"data-v-1677ddda",null);e.default=n.exports},jSpo:function(t,e){}});