webpackJsonp([40],{SPD3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),s={data:function(){return{SubordinateCompany:[{value:"",label:"全部"},{value:"服务公司",label:"服务公司"},{value:"技术公司",label:"技术公司"}],billingTime:[],retrieval:{begin:"",end:"",bankId:"",transactionType:"",summary:"",toName:"",belongCompany:"",pageNum:1,numPerPage:this.$store.state.NewDisplayNumber,orderField:"",orderDirection:""},total:0,tableData:[],dialogVisible:!1,row:{}}},created:function(){this.start()},computed:{retrievalJT:function(){return l()(this.retrieval)}},watch:{retrievalJT:function(t,e){this.WatchFenYe(t,e)?this.$refs.SaxoFenYe.ReviseConNumber1():this.start()}},methods:{modifyPrimary:function(){var t=this;console.log(this.row),this.API_POST("Finance/UpdateFTZY",{id:this.row.ID,Str:this.row.Summary}).then(function(e){console.log(e),t.$message.success("修改成功！"),t.dialogVisible=!1,t.start()})},modify:function(t){this.row=JSON.parse(l()(t)),this.dialogVisible=!0},Create:function(){this.$router.push({path:"/create-online-banking-expenses"})},start:function(){var t=this;this.API_GET("Finance/GetFinancialTransactions",this.retrieval).then(function(e){t.tableData=e.Dtos,t.total=e.DataBars,t.tableData.forEach(function(t){t.CreateDate=t.CreateDate.split("T")[0],t.TransactionDt=t.TransactionDt.split("T")[0]+" "+t.TransactionDt.split("T")[1].slice(0,5)}),console.log(t.tableData)})},ChangeTime:function(t){console.log(t),this.retrieval.begin=t[0]||"",this.retrieval.end=t[1]||""},func:function(t,e){this.retrieval.numPerPage=t,this.retrieval.pageNum=e,this.start()}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:t.start}}),t._v(" "),a("div",{staticClass:"retrieve"},[a("div",{staticClass:"leftSpan"},[t._v("\n            "+t._s(t.$route.meta.title)+"\n\n            "),a("router-link",{attrs:{to:"online-expense-stats-table"}},[a("i",{staticClass:"el-icon-bank-card",staticStyle:{cursor:"pointer"}})])],1),t._v(" "),a("div",{staticClass:"ConView"},[a("div",{staticClass:"department",staticStyle:{width:"500px"}},[a("span",[t._v("开始/结束")]),t._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.ChangeTime},model:{value:t.billingTime,callback:function(e){t.billingTime=e},expression:"billingTime"}})],1),t._v(" "),a("div",{staticClass:"department"},[a("span",[t._v("银行流水")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入银行流水",size:"mini"},model:{value:t.retrieval.bankId,callback:function(e){t.$set(t.retrieval,"bankId",e)},expression:"retrieval.bankId"}})],1),t._v(" "),a("div",{staticClass:"department"},[a("span",[t._v("交易类型")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入交易类型",size:"mini"},model:{value:t.retrieval.transactionType,callback:function(e){t.$set(t.retrieval,"transactionType",e)},expression:"retrieval.transactionType"}})],1),t._v(" "),a("div",{staticClass:"department"},[a("span",[t._v("摘要")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入摘要",size:"mini"},model:{value:t.retrieval.summary,callback:function(e){t.$set(t.retrieval,"summary",e)},expression:"retrieval.summary"}})],1),t._v(" "),a("div",{staticClass:"department"},[a("span",[t._v("收(付)方名称")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入收(付)方名称",size:"mini"},model:{value:t.retrieval.toName,callback:function(e){t.$set(t.retrieval,"toName",e)},expression:"retrieval.toName"}})],1),t._v(" "),a("div",{staticClass:"department"},[a("span",[t._v("隶属公司")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择隶属公司",size:"mini"},on:{change:function(e){return t.start()}},model:{value:t.retrieval.belongCompany,callback:function(e){t.$set(t.retrieval,"belongCompany",e)},expression:"retrieval.belongCompany"}},t._l(t.SubordinateCompany,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("saxo-button",{staticStyle:{float:"right","margin-top":"13px","margin-left":"5px"},attrs:{mini:"",type:"success"},on:{click:function(e){return t.Create()}}},[t._v("创 建")])],1),t._v(" "),a("div",{staticClass:"content2"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":t.$store.state.headerCellStyle,"cell-style":t.$store.state.cellStyle,stripe:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"CreateDate",label:"创建时间",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"BelongCompany",label:"隶属公司",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"JieDai",label:"借/贷",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CreaterName",label:"上传人",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"TransactionType",label:"交易类型",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"TransactionDt",label:"交易时间",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{label:"借",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{float:"right"}},[t._v(" "+t._s(t.FinancialAmountFormat(e.row.AmountJ)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Summary",label:"摘要","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"ToName",label:"收(付)方名称","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"ToAccount",label:"收(付)方账号","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("saxo-button",{attrs:{mini:""},on:{click:function(a){return t.modify(e.row)}}},[t._v("修改摘要")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改摘要",visible:t.dialogVisible,width:"800px","append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{"padding-left":"20px","box-sizing":"border-box"}},[a("p",{staticClass:"Text"},[a("span",[t._v("创建时间")]),t._v(t._s(t.row.CreateDate))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("隶属公司")]),t._v(t._s(t.row.BelongCompany))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("借/贷")]),t._v(t._s(t.row.JieDai))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("上传人")]),t._v(t._s(t.row.CreaterName))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("交易类型")]),t._v(t._s(t.row.TransactionType))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("交易时间")]),t._v(t._s(t.row.TransactionDt))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("借")]),t._v(t._s(t.FinancialAmountFormat(t.row.AmountJ)))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("收(付)方名称")]),t._v(t._s(t.row.ToName))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("收(付)方账号")]),t._v(t._s(t.row.ToAccount))]),t._v(" "),a("p",{staticClass:"Text"},[a("span",[t._v("摘要")]),t._v(" "),a("el-input",{staticStyle:{width:"calc(100% - 100px)","margin-top":"10px"},attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.row.Summary,callback:function(e){t.$set(t.row,"Summary",e)},expression:"row.Summary"}})],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("saxo-button",{attrs:{mini:"",type:"info"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("saxo-button",{attrs:{mini:"",type:"primary"},on:{click:function(e){return t.modifyPrimary()}}},[t._v("确 定")])],1)])],1),t._v(" "),a("SaxoFenYe",{ref:"SaxoFenYe",attrs:{total:t.total},on:{func:t.func}})],1)},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(t){a("gukj")},"data-v-eaa304a0",null);e.default=r.exports},gukj:function(t,e){}});